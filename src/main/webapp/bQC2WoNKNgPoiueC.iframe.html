<html xmlns:sprout="http://sproutinc.com">
<!--
Copyright (c) 2010 ChipIn Inc. All rights reserved.
All software, both binary and source contained in this work is the exclusive property
of ChipIn Inc. Modification, decompilation, disassembly, or any other means of discovering
the source code of this software is prohibited. This work is protected under the United
States copyright law and other international copyright treaties and conventions.
-->
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="telephone=no" name="format-detection">
<script type="text/javascript">window._Sprout={sprout:{object:{displayState:{ID:'Sprout_bQC2WoNKNgPoiueC',width:320,height:480,stylesText:'height:480px;width:320px;'},format:'standard',adNetwork:'none',ID:'bQC2WoNKNgPoiueC',gaProfileID:'',startPageID:'',trackBase:'http://d1clfvuu2240eh.cloudfront.net/t.gif?m=a%3AW5Tk9EhkGNaxoCYL%2BRycSdHoNSMnbdBawY64%2B%2BhDmIOiUypxWrbswGk%3D',advineTrackingEndpoint:'http://beacon.sproutbuilder.com',advineInteractionTrackingEnabled:true,reportingLabel: '',hasMousePositionTokens: false,width:320,height:480,lockOrientationValue:'default',closeButtonType:'default',closeButtonSource:''},classname:'Sprout',children:[{object:{ID:'Page2',name:'Master Background',masterType:'BACKGROUND',displayState:{ID:'Page2',fillColor:'#ffffff',fillColorTo:'#cecece',fillType:'SOLID',visibility:false,stylesText:'background:#ffffff;'},pageAnimations:{pageHide:0,pageShow:0}},classname:'Page',children:[{object:{ID:'Element_93632eb',name:'',displayState:{ID:'Element_93632eb',x:3,y:0,width:132,height:399,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:1.0,scale:1,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',stylesText:'cursor:auto;height:399px;visibility:hidden;background:transparent;width:132px;opacity:1.0;left:3px;border:0px #000000 solid;top:0px;'},link:{ url:'',target:'',clickTag:''},properties:{x:3,y:0,width:132,height:399,minimumWidth:0.0,minimumHeight:0.0,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:100,scale:100,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',source:'dQC5f4PxNt1liYZq.jpg',scalingMode:'stretch',loadPolicy:'immediate'}},classname:'ImageElement',children:[]}
]}
,{object:{ID:'Page_64d0326d',name:'Loading',displayState:{ID:'Page_64d0326d',fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',visibility:false,stylesText:'background:transparent;'},pageAnimations:{pageHide:0,pageShow:0},masterBG:false,masterFG:false,trackingLabel:'Loading'},classname:'Page',children:[{object:{ID:'Text_dfdbe551',name:'',displayState:{ID:'Text_dfdbe551',x:43,y:226,width:275,height:72,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:1.0,scale:1,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',stylesText:'overflow-y:hidden;cursor:auto;height:72px;visibility:hidden;background:transparent;width:275px;opacity:1.0;left:43px;border:0px #000000 solid;top:226px;'},link:{ url:'',target:'',clickTag:''},properties:{x:43,y:226,width:275,height:72,minimumWidth:0.0,minimumHeight:0.0,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:100,scale:100,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',htmlText:'<div><p class="first" style="text-align:LEFT;line-height:1.209;margin-top:0px"><span class="fontTahoma" style="font-family:\'Tahoma\';font-size:56px;color:#000000;letter-spacing:0px">Loading...</span></p></div>',color:'#000000'}},classname:'TextElement',children:[]}
,{object:{ID:'Element_c670e9e7',name:'ds',displayState:{ID:'Element_c670e9e7',x:-215,y:123,width:200,height:85,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:1.0,scale:1,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'NONE',stylesText:'cursor:auto;height:85px;visibility:hidden;background:transparent;width:200px;opacity:1.0;left:-215px;border:0px #000000 NONE;top:123px;'},link:{ url:'',target:'',clickTag:''},properties:{x:-215,y:123,width:200,height:85,minimumWidth:200.0,minimumHeight:85.0,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:100,scale:100,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'NONE',source:'api/preference',refreshInterval:0}},classname:'DataSourceElement',children:[{object:{ID:'NODE_6',trigger:'dataLoaded',triggerNodeID:'Element_c670e9e7',parameters:{allRequired:true,actionCount:1,playActions:true,stopActions:true}},classname:'ConditionAction',children:[{object:{ID:'NODE_7',properties:{variable:'{ds.preference}',type:'string',bucket:'',operator:'eq',value:'FLOOR_WAX'}},classname:'Condition',children:[]}
]}
,{object:{ID:'NODE_8',trigger:'dataLoaded',triggerNodeID:'Element_c670e9e7',parameters:{targetPage:'sp:Page1'}},classname:'GoToPageAction',children:[]}
,{object:{ID:'NODE_9',trigger:'dataLoaded',triggerNodeID:'Element_c670e9e7',parameters:{allRequired:true,actionCount:1,playActions:true,stopActions:true}},classname:'ConditionAction',children:[{object:{ID:'NODE_10',properties:{variable:'{ds.preference}',type:'string',bucket:'',operator:'eq',value:'DESSERT_TOPPING'}},classname:'Condition',children:[]}
]}
,{object:{ID:'NODE_11',trigger:'dataLoaded',triggerNodeID:'Element_c670e9e7',parameters:{targetPage:'sp:Page_2f7d23b9'}},classname:'GoToPageAction',children:[]}
]}
]}
,{object:{ID:'Page1',name:'Floor wax',displayState:{ID:'Page1',fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',visibility:false,stylesText:'background:transparent;'},pageAnimations:{pageHide:0,pageShow:0},masterBG:true,masterFG:true,trackingLabel:'Floor wax'},classname:'Page',children:[{object:{ID:'Text_6e075e9d',name:'',displayState:{ID:'Text_6e075e9d',x:142,y:87,width:180,height:281,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:1.0,scale:1,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',stylesText:'overflow-y:hidden;cursor:auto;height:281px;visibility:hidden;background:transparent;width:180px;opacity:1.0;left:142px;border:0px #000000 solid;top:87px;'},link:{ url:'',target:'',clickTag:''},properties:{x:142,y:87,width:180,height:281,minimumWidth:0.0,minimumHeight:0.0,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:100,scale:100,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',htmlText:'<div><p class="first" style="text-align:LEFT;line-height:1.219;margin-top:0px"><span class="fontImpact" style="font-family:\'Impact\';font-size:51px;color:#000000;letter-spacing:0px">It\'s a floor wax!</span></p><p style="text-align:LEFT;margin-top:0px"><span class="fontImpact" style="font-family:\'Impact\';font-size:31px;color:#000000;letter-spacing:0px">And a dessert topping.</span></p></div>',color:'#000000'}},classname:'TextElement',children:[]}
]}
,{object:{ID:'Page_2f7d23b9',name:'Dessert Topping',displayState:{ID:'Page_2f7d23b9',fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',visibility:false,stylesText:'background:transparent;'},pageAnimations:{pageHide:0,pageShow:0},masterBG:true,masterFG:true,trackingLabel:'Dessert Topping'},classname:'Page',children:[{object:{ID:'Text_e0839715',name:'',displayState:{ID:'Text_e0839715',x:142,y:87,width:180,height:266,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:1.0,scale:1,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',stylesText:'overflow-y:hidden;cursor:auto;height:266px;visibility:hidden;background:transparent;width:180px;opacity:1.0;left:142px;border:0px #000000 solid;top:87px;'},link:{ url:'',target:'',clickTag:''},properties:{x:142,y:87,width:180,height:266,minimumWidth:0.0,minimumHeight:0.0,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:100,scale:100,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',htmlText:'<div><p class="first" style="text-align:LEFT;line-height:1.219;margin-top:0px"><span class="fontImpact" style="font-family:\'Impact\';font-size:51px;color:#000000;letter-spacing:0px">It\'s a dessert topping!</span></p><p style="text-align:LEFT;margin-top:0px"><span class="fontImpact" style="font-family:\'Impact\';font-size:31px;color:#000000;letter-spacing:0px">And a floor wax.</span></p></div>',color:'#000000'}},classname:'TextElement',children:[]}
]}
,{object:{ID:'Page3',name:'Master Foreground',masterType:'FOREGROUND',displayState:{ID:'Page3',fillColor:'transparent',fillColorTo:'#cecece',fillType:'SOLID',visibility:false,stylesText:'background:transparent;'},pageAnimations:{pageHide:0,pageShow:0}},classname:'Page',children:[{object:{ID:'Text_46da6c13',name:'',displayState:{ID:'Text_46da6c13',x:29,y:408,width:286,height:27,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:1.0,scale:1,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',stylesText:'overflow-y:hidden;cursor:pointer;height:27px;visibility:hidden;background:transparent;width:286px;opacity:1.0;left:29px;border:0px #000000 solid;top:408px;'},link:{ url:'api/exit/FloorWaxingChallenge',target:'',clickTag:'floorWaxChallenge'},properties:{x:29,y:408,width:286,height:27,minimumWidth:0.0,minimumHeight:0.0,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:100,scale:100,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',htmlText:'<div><p class="first" style="text-align:LEFT;line-height:1.218;margin-top:0px"><span style="font-family:\'Impact\';font-size:19px;color:#000000;letter-spacing:0px"><U class="fontImpact" style="font-family:\'Impact\';">Take the floor-waxing challenge!</U></span></p></div>',color:'#000000'}},classname:'TextElement',children:[]}
,{object:{ID:'Text_8a0cfe0b',name:'',displayState:{ID:'Text_8a0cfe0b',x:29,y:443,width:201,height:31,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:1.0,scale:1,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',stylesText:'overflow-y:hidden;cursor:pointer;height:31px;visibility:hidden;background:transparent;width:201px;opacity:1.0;left:29px;border:0px #000000 solid;top:443px;'},link:{ url:'api/exit/DessertRecipes',target:'',clickTag:'dessertRecipes'},properties:{x:29,y:443,width:201,height:31,minimumWidth:0.0,minimumHeight:0.0,rotation:0.0,fillColor:'transparent',fillColorTo:'transparent',fillType:'NONE',opacity:100,scale:100,visibility:true,borderColor:'#000000',borderWidth:0,borderStyle:'solid',htmlText:'<div><p class="first" style="text-align:LEFT;line-height:1.218;margin-top:0px"><span style="font-family:\'Impact\';font-size:19px;color:#000000;letter-spacing:0px"><U class="fontImpact" style="font-family:\'Impact\';">Find dessert recipes!</U></span></p></div>',color:'#000000'}},classname:'TextElement',children:[]}
]}
]}
,version:3};(function(k,i,g){var z;function E(a,b){return a-b}function F(a){a.preventDefault();return!1}var h=function(){function a(b){return b._xuiEventID?b._xuiEventID:b._xuiEventID=++a.id}function b(a,b){var c=p[a]=p[a]||{};return c[b]=c[b]||[]}function c(d,e,f,j){d=a(d);e=b(d,e);d=function(a){a.data=j;!1===f(a)&&(a.preventDefault(),a.stopPropagation())};d.guid=f.guid=f.guid||++a.id;d.handler=f;e.push(d);return d}var e,f=/^#?([\w-]+)$/,j=/^#/,m=/<([\w:]+)/,h=!1,l=[],n=new String("string"),G=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,
t=function(a){return[].slice.call(a,0)};try{t(k.documentElement.childNodes)}catch(s){t=function(a){for(var b=[],c=0;a[c];c++)b.push(a[c]);return b}}if(k.addEventListener)var q=function(){k.removeEventListener("DOMContentLoaded",q,!1);e.onReady()};i.$=i.sQuery=e=function(a,b){return new e.fn.find(a,b)};[].forEach||(Array.prototype.forEach=function(a,b){var c=this.length||0,d=0;if("function"==typeof a)for(;d<c;d++)a.call(b,this[d],d,this)});e.fn=e.prototype={extend:function(a){for(var b in a)this[b]=
a[b]},find:function(a,b){var c=[],d;if(a)if(b===g&&this.length)c=this.each(function(b){c=c.concat(t(e(a,b)))}).reduce(c);else{b=b||k;if(typeof a==n){if(f.test(a)){c=j.test(a)?[b.getElementById(a.substr(1))]:b.getElementsByTagName(a);c[0]==null&&(c=[])}else if(m.test(a)){d=k.createElement("i");d.innerHTML=a;t(d.childNodes).forEach(function(a){c.push(a)})}else c=i.Sizzle!==g?Sizzle(a):b.querySelectorAll(a);c=t(c)}else if(a instanceof Array)c=a;else if(a.toString()=="[object NodeList]"||a instanceof
e)c=t(a);else if(a.nodeName||a===i)c=[a]}else return this;return this.set(c)},replaceWith:function(a){if(typeof a!=="string")var b=a.get(0),a=b.parentNode.removeChild(b);return this.each(function(){var b=this.nextSibling,c=this.parentNode;c.removeChild(this);b?c.insertBefore(a,b):e(c).append(a)})},set:function(a){var b=e();b.cache=t(this.length?this:[]);b.length=0;[].push.apply(b,a);return b},reduce:function(a,b){var c=[],a=a||t(this);a.forEach(function(a){c.indexOf(a,0,b)<0&&c.push(a)});return c},
get:function(a){return a==null?t(this):this[a]},each:function(a){for(var b=0,c=this.length;b<c;++b)if(a.call(this[b],this[b],b,this)===false)break;return this},ready:function(a){if(!h){h=true;if(k.readyState==="complete")e.onReady();if(k.addEventListener){k.addEventListener("DOMContentLoaded",q,false);i.addEventListener("load",e.onReady,false)}}e.isReady?a.call(k,e):l&&l.push(a);return this}};e.fn.find.prototype=e.fn;e.extend=e.fn.extend;e.extend({isReady:!1,onReady:function(){if(!e.isReady){e.isReady=
true;if(l){for(var a,b=0;a=l[b++];)a.call(k,e);l=null}}},isFunction:function(a){return a!==null&&a!==g&&(typeof a==="function"||a.toString()==="[object Function]")},isArray:function(a){return a!==null&&a!==g&&(typeof a=="array"||a.toString()==="[object Array]")},isString:function(a){return typeof a=="string"||typeof a=="object"&&a.constructor.toString().match(/string/i)!=null},isNumeric:function(a){return a-0==a},isUrl:function(a){return/^(ftp|http|https|webcal):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i.test(a)},
ensureCompleteURL:function(a){/^(((\w+):(\/\/)?)|#)/.test(a)||(a=window.location.href.replace(/(.*\/).*/,'$1')+a);return a},round:function(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)},isBoolean:function(a){return typeof a=="boolean"||a=="true"||a=="false"},trim:function(a){return(a||"").replace(G,"")}});e.fn.extend({append:function(a){a=e(a);this.each(function(b){a.each(function(a){b.insertBefore(a,null)})})},prepend:function(a){a=e(a);this.each(function(b){var c=b.firstChild;a.each(function(a){b.insertBefore(a,c)})})},
insertBefore:function(a){a=e(a);this.each(function(b){var c=b.parentNode;a.each(function(a){c.insertBefore(a,b)})})},insertAfter:function(a){a=e(a);this.each(function(b){var c=b.parentNode,d=b.nextSibling;d?a.each(function(a){c.insertBefore(a,d)}):a.each(function(a){c.appendChild(a)})})},remove:function(a){a=e(a);this.each(function(b){a.each(function(a){b.removeChild(a)})})},attr:function(a,b){if(arguments.length==2)return this.each(function(c){c.setAttribute(a,b)});var c=[];this.each(function(b){b=
b.getAttribute(a);b!=null&&c.push(b)});return c},css:function(a,b){return arguments.length>=2?this.each(function(c){c.style[a.replace(/-[a-z]/g,function(a){return a.substr(1).toUpperCase()})]=b}):k.defaultView.getComputedStyle(this[0],"").getPropertyValue(a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}))},bind:function(a,b,f){if(e.isFunction(b)){f=b;b=g}this.each(function(e){e.addEventListener(a,c(e,a,f,b),false)})},unbind:function(c,d){this.each(function(e){for(var f=a(e),j=b(f,c),m=j.length;m--;)if(d===
g||d.guid===j[m].guid){e.removeEventListener(c,j[m],false);var h=p[f][c],r=m,n=h.slice(2);h.length=r<0?h.length+r:r;h.push.apply(h,n)}p[f][c].length===0&&delete p[f][c];for(var l in p[f])return;delete p[f]})},trigger:function(a,b){this.each(function(c){if(c==k&&!c.dispatchEvent)c=k.documentElement;var d=k.createEvent("HTMLEvents");d.initEvent(a,true,true);d.data=b||{};c.dispatchEvent(d)})}});var p={};a.id=1;var o={};e.extend({everyTime:function(a,b,c,d){var f=0;o[b]=i.setInterval(function(){(++f>
d&&d!==0||c.call(k,f)===false)&&e.stopTime(b,c)},a)},stopTime:function(a){i.clearInterval(o[a]);delete o[a]}});e.fn.extend({transform:function(a,b){if(arguments.length>=2)return this.each(function(c){for(var d={translateX:null,translateY:null,scale:null,rotate:null},f=c.style.webkitTransform.split(/( )(?![^\(\)]*\))/),j,m,h=" ",r=0,n=f.length;r<n;r++){m=f[r].indexOf("(");if(m>=0){j=e.trim(f[r].substring(0,m));m=e.trim(f[r].substring(m+1,f[r].indexOf(")")));d[j]!==g&&(d[j]=m)}}d[a]=b;for(var l in d)d[l]&&
(h=h+(l+"("+d[l]+") "));c.style.webkitTransform=e.trim(h)});if(this[0])for(var c=this[0].style.webkitTransform.split(/( )(?![^\(\)]*\))/),d=0,f=c.length;d<f;d++)if(c[d].indexOf(a)!=-1)return c[d].substring(c[d].indexOf("(")+1,c[d].indexOf(")"))},removeTransform:function(a){return this.each(function(b){for(var c=b.style.webkitTransform.split(/( )(?![^\(\)]*\))/),d=0,e=c.length;d<e;d++)if(c[d].indexOf(a)!=-1){c.splice(d,1);b.style.webkitTransform=c.join(" ");break}})}});return e}();"undefined"==typeof JSON&&
(JSON={parse:function(a){return eval("("+a+")")}});var c={start:function(){c.Application=new c.BaseApp(i._Sprout.sprout);delete i._Sprout.sprout;h(k).ready(function(){2.2<=c.Browser.android||(k.styleSheets[0].insertRule(".sproutElement:not(.sproutTextElement):not(.animGIF)"+(3.2>c.Browser.iOS?":not(.sproutAudioElement):not(.sproutVideoElement)":"")+(0<c.Browser.iPhone&&40>=c.Browser.getBenchmark()?"":",.sproutElement:not(.animGIF) img")+"{-webkit-backface-visibility:hidden}",0),4.1>=c.Browser.iOS&&
(3.2>c.Browser.iOS&&h("body").css("-webkit-transform","translateZ(0)"),k.styleSheets[0].insertRule(".sproutVideoElement{display:none}",0)));c.Application.sprout.hasOwnProperty("doubleclick")?Enabler.isInitialized()?c.Application.start():Enabler.addEventListener(studio.events.StudioEvent.INIT,function(){c.Application.start()}):c.Application.start()})},Application:null,isFunction:function(a){return null!==a&&a!==g&&("function"===typeof a||null!==a.constructor.toString().match(/function/i))},isObject:function(a){return null!==
a&&a!==g&&"object"===typeof a&&!c.isArray(a)&&!c.isString(a)},isArray:function(a){return null!==a&&a!==g&&"object"===typeof a&&null!==a.constructor.toString().match(/array/i)},isBoolean:function(a){return null!==a&&a!==g&&"boolean"===typeof a},isString:function(a){return null!==a&&a!==g&&("string"===typeof a||"object"===typeof a&&null!==a.constructor.toString().match(/string/i))},isNumeric:function(a){return!isNaN(a)&&isFinite(a)},isUrl:function(a){return/^(ftp|http|https|webcal):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i.test(a)},
EndsWith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)},Clone:function(a){if(c.isObject(a)){var b={},d;for(d in a)b[d]=a[d];return b}if(c.isArray(a)){b=[];d=a.length;for(var e=0;e<d;e++)b.push(a[e]);return b}return a}};i._Sprout.namespace=c;c.initializing=!1;c.Class=function(){};c.Class.prototype.merge=function(a){for(var b in a)this[b]=a[b]};c.Class.prototype.clone=function(){return c.Clone(this)};c.Class.extend=function(a){function b(){!c.initializing&&this.construct&&this.construct.apply(this,
arguments)}var d=this.prototype;c.initializing=!0;var e=new this;c.initializing=!1;for(var f in a)e[f]=c.isFunction(e[f])?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);this._super=c;return e}}(f,a[f]):a[f];b.prototype=e;b.constructor=b;b.extend=arguments.callee;return b};c.ArrayList=c.Class.extend({construct:function(){this.elements=[];this.count=0},add:function(a){this.elements.push(a);this.count++;return!0},addAll:function(a){var b=this,c=!1;a.forEach(function(a){b.add(a)&&
(c=!0)});return c},addAllAt:function(a,b){var c=this,e=!1,f=a;b.forEach(function(a){c.addAt(f,a)&&(e=!0,f++)});return e},addAt:function(a,b){this.elements.splice(a,0,b);this.count++;return!0},clear:function(){this.elements=[];this.count=0},contains:function(a){return 1!==this.indexOf(a)},containsAll:function(a){var b=this;a.forEach(function(a){if(-1===b.indexOf(a))return!1});return!0},forEach:function(a){this.elements.forEach(a)},get:function(a){return this.elements[a]},lastIndexOf:function(a){for(var b=
this.count-1;0<=b;b--)if(a===this.elements[b])return b;return-1},indexOf:function(a){for(var b=0;b<this.count;b++)if(a===this.elements[b])return b;return-1},isEmpty:function(){return 0===this.count},remove:function(a){a=this.indexOf(a);return-1!==a?(this.removeAt(a),!0):!1},removeAt:function(a){a=this.elements.splice(a,1);this.count--;return a},removeAll:function(a){var b=this,c=!1;a.forEach(function(a){b.remove(a)&&(c=!0)});return c},retainAll:function(){},set:function(a,b){var c=this.get(a);this.elements[a]=
b;return c},size:function(){return this.count},toArray:function(){var a=[];this.forEach(function(b){a.push(b)});return a}});c.HashMap=c.Class.extend({construct:function(){this.hashMap={};this.count=0},clear:function(){this.hashMap={};this.count=0},containsKey:function(a){return this.hashMap[a]!==g},containsValue:function(a){for(var b in this.hashMap)if(a===this.hashMap[b])break;return!0},forEach:function(a){for(var b in this.hashMap)a(this.hashMap[b])},get:function(a){a=this.hashMap[a];return a===
g?null:a},isEmpty:function(){return 0===this.count},keys:function(){var a=[],b;for(b in this.hashMap)a.push(b);return a},put:function(a,b){var c=this.get(a);this.hashMap[a]=b;null===c&&this.count++;return c},putAll:function(a){a.keys().forEach(function(b){var c=a.get(b);this.put(b,c)})},remove:function(a){var b=this.get(a);null!==b&&(delete this.hashMap[a],this.count--);return b},size:function(){return this.count},values:function(){var a=[],b;for(b in this.hashMap)a.push(this.hashMap[b]);return a}});
c.HashList=c.HashMap.extend({construct:function(){this._super();this.orderedKeys=[]},clear:function(){this._super();this.orderedKeys=[]},forEach:function(a){for(var b=0,c=this.orderedKeys.length;b<c;b++)a(this.getAtIndex(b))},getAtIndex:function(a){a=this.orderedKeys[a];return a!==g?this.get(a):null},indexOfKey:function(a){for(var b=0,c=this.orderedKeys.length;b<c;b++)if(this.orderedKeys[b]===a)return b;return-1},insertAtIndex:function(a,b,c){null!==this.get(b)&&this.removeAtIndex(this.indexOfKey(b));
var e=this.orderedKeys.slice(0,a),a=this.orderedKeys.slice(a);e.push(b);this.orderedKeys=e.concat(a);this._super(b,c)},keys:function(){for(var a=[],b=0,c=this.orderedKeys.length;b<c;b++)a.push(this.orderedKeys[b]);return a},put:function(a,b){null!==this.get(a)&&this.remove(a);this._super(a,b);this.orderedKeys.push(a)},remove:function(a){var b=this.indexOfKey(a);-1!==b&&(this.orderedKeys.splice(b,1),this._super(a))},removeAtIndex:function(a){a=this.orderedKeys[a];a!==g&&this.remove(a)},sort:function(a){var b=
this;b.orderedKeys.sort(function(c,e){return a(b.get(c),b.get(e))})},values:function(){for(var a=[],b=0,c=this.orderedKeys.length;b<c;b++)a.push(this.get(this.orderedKeys[b]));return a}});c.Event=c.Class.extend({construct:function(a,b){this.target=null;this.type=a;this.data=b}});c.EventDispatcher=c.Class.extend({construct:function(a){this.target=a?a:this;this.listeners=new c.HashMap},addEventListener:function(a,b,d,e){this.listeners.containsKey(a)||this.listeners.put(a,[]);c.isNumeric(e)||(e=20);
for(var f=!1,a=this.listeners.get(a),j=a.length,m=0;m<j;m++){var g=a[m];g.listenerFunction===b&&g.listenerObject===d&&(f=!0,g.priority=e)}f||a.push({listenerFunction:b,listenerObject:d,priority:e});a.sort(E)},dispatchEvent:function(a){a.target=this.target;for(var b=this.listeners.get(a.type),d=(b=c.Clone(b))?b.length:0,e=0;e<d;e++){var f=b[e];f.listenerObject?f.listenerFunction.call(f.listenerObject,a):f.listenerFunction(a)}},hasEventListener:function(a){return this.listeners.containsKey(a)},removeEventListener:function(a,
b,c){for(var e=this.listeners.get(a),f=e?e.length:0,j=0;j<f;j++){var m=e[j];if(m.listenerFunction==b&&m.listenerObject==c){e.splice(j,1);0===e.length&&this.listeners.remove(a);break}}},removeAllListeners:function(){for(var a in this.listeners.values)for(var b=this.listeners.get(a),d=(b=c.Clone(b))?b.length:0,e=0;e<d;e++){var f=b[e];this.removeEventListener(a,f.listenerFunction,f.listenerObject)}}});c.BlockingObject=c.EventDispatcher.extend({construct:function(){this._super();this.ready=!1},reportReady:function(){this.ready=
!0;this.dispatchEvent(new c.Event(w))},readyCheck:function(){}});c.Broadcaster={topicMap:new c.HashMap,SendMessage:function(a,b){if(c.Broadcaster.HasListener(a)){var d=g,e=c.Broadcaster.topicMap.get(a);e&&e.forEach(function(c){d=c.messageIn(a,b)});return d}},AddListener:function(a,b){var d=c.Broadcaster.topicMap.get(a);d?-1===d.indexOf(b)&&d.push(b):(d=[b],c.Broadcaster.topicMap.put(a,d))},RemoveListener:function(a,b){if(c.Broadcaster.HasListener(a)){var d=c.Broadcaster.topicMap.get(a);if(d)for(var e=
0;e<d.length;++e)if(d[e]===b){d.splice(e,1);0==d.length&&c.Broadcaster.topicMap.remove(a);break}}},HasListener:function(a){return null!=c.Broadcaster.topicMap.get(a)}};c.BrowserUtil=c.Class.extend({construct:function(){var a=navigator.userAgent.toLowerCase(),b=/(iphone os|cpu os|android|safari|chrome)[ \/]([\w.]+)/.exec(a),a=/(safari)[ \/]([\w.]+)/.exec(a);this.touchDevice=this.motionDevice=g;this.iPhone=null!=b&&"iphone os"==b[1]?parseFloat(b[2].replace(/_/g,".")):NaN;this.iPad=null!=b&&"cpu os"==
b[1]?parseFloat(b[2].replace(/_/g,".")):NaN;this.chrome=null!=b&&"chrome"==b[1]?parseFloat(b[2].replace(/_/g,".")):NaN;this.android=null!=b&&"android"==b[1]?parseFloat(b[2]):NaN;this.iOS=this.iPhone||this.iPad;this.safari=null!=a&&"safari"==a[1];this.benchmark=-1},isTouchDevice:function(){return this.touchDevice!=g?this.touchDevice:this.touchDevice="ontouchstart"in k.documentElement?!0:!1},isMotionDevice:function(){return this.motionDevice!=g?this.motionDevice:this.motionDevice=!!i.DeviceMotionEvent},
getBenchmark:function(){if(-1===this.benchmark){for(var a=new Date,b=1;b++&&!(10<new Date-a);)Math.sqrt(b);this.benchmark=Math.round(b/10)}0==this.benchmark&&(this.benchmark=1);return this.benchmark}});c.Browser=new c.BrowserUtil;c.SproutNode=c.BlockingObject.extend({construct:function(a,b){this._super();this.merge(b);this.ownerSprout=a;this.childNodes=new c.HashMap;this.parentNode=null},preInitialize:function(){},initialize:function(){},postInitialize:function(){},appendChild:function(a){this.childNodes.put(a.ID,
a);a.parentNode=this;this.ownerSprout.addNodeToCache(a)}});c.Trigger=c.Class.extend({construct:function(a,b,c){this.name=a;this.target=b;this.event=c},getName:function(){return this.name},getTarget:function(){return this.target},getEvent:function(){return this.event}});c.HTML_EVENT_TRIGGER_MAP=c.Browser.isTouchDevice()?{mouseOver:"mouseover",mouseOut:"mouseout",mouseDown:"touchstart",mouseUp:"touchend",mouseClick:c.Browser.iOS||2.2<=c.Browser.android?"click":"touchend",swipeLeft:"touchstart",swipeRight:"touchstart",
swipeUp:"touchstart",swipeDown:"touchstart",shake:"shake",orientationChange:"orientationchange"}:{mouseOver:"mouseover",mouseOut:"mouseout",mouseDown:"mousedown",mouseUp:"mouseup",mouseClick:"click",swipeLeft:"mousedown",swipeRight:"mousedown",swipeUp:"mousedown",swipeDown:"mousedown",shake:"shake",orientationChange:"orientationchange"};c.SproutDisplayNode=c.SproutNode.extend({construct:function(a,b){this._super(a,b);this.display=null;this.displayState=b.displayState;delete b.displayState;this.triggerHandlerArrays=
new c.HashMap;this.htmlEventListeners=new c.HashMap;this.swipeStartTime=this.swipeStartPoint=this.swipeEndPoint=null},createDisplay:function(){if(!this.display)throw Error("Must implement the createDisplay method for SproutDisplayNode");},createDisplayChildren:function(){},destroyDisplay:function(){this.displayState=this.display.saveState();this.display=null},registerTriggerHandler:function(a,b,d,e){var f=c.HTML_EVENT_TRIGGER_MAP[a];if("PAGE"==this.nodeType&&f!==g)return this.ownerSprout.registerTriggerHandler(a,
b,d,this);e=e?e.ID+"_"+a:a;null==this.triggerHandlerArrays.get(e)&&this.triggerHandlerArrays.put(e,[]);this.triggerHandlerArrays.get(e).push({object:b,method:d});f!==g&&this.addHTMLListener(f,a)},clearTriggerHandler:function(a,b){this.triggerHandlerArrays.remove(b?b.ID+"_"+a:a)},fireTrigger:function(a,b){var d=new c.Trigger(a,this,b),e=a;"SPROUT"===this.nodeType&&"projectDismissed"!==a&&(d.target=c.PageManager.getActivePage(),e=d.getTarget().ID+"_"+d.getName());e=this.triggerHandlerArrays.get(e);
if(null!=e){if("mouseClick"==d.getName()&&"touchend"==c.HTML_EVENT_TRIGGER_MAP.mouseClick){var f=this.touches[b.changedTouches[0].identifier];if(f&&(f=Math.sqrt(Math.pow(f.x-b.changedTouches[0].screenX,2)+Math.pow(f.y-b.changedTouches[0].screenY,2)),delete this.touches[b.changedTouches[0].identifier],10<f))return}e.forEach(function(a){a.method.call(a.object,d)})}},touches:{},addHTMLListener:function(a,b){if(null==this.htmlEventListeners.get(a)){var d=this,e=null,f=function(a,b){d.htmlEventListeners.put(a,
b);d.display.html.bind(a,b)};if(b.match(/^swipe/)&&"touchstart"==a){var e={touchstart:function(a){d.swipeStartTime=(new Date).getTime();d.swipeStartPoint={x:a.touches[0].pageX,y:a.touches[0].pageY}},touchmove:function(a){a.preventDefault();d.handleEndSwipe(a)},touchend:function(a){d.handleEndSwipe(a);d.swipeStartPoint=d.swipeEndPoint=d.swipeStartTime=null},touchcancel:function(){d.swipeStartPoint=d.swipeEndPoint=d.swipeStartTime=null}},j;for(j in e)f(j,e[j])}else e=b.match(/^swipe/)?function(a){c.DisplayManager.isUserInteractionAllowed()&&
(d.swipeStartTime=(new Date).getTime(),d.swipeStartPoint={x:a.pageX,y:a.pageY},null!=d.htmlEventListeners.get("mouseup")&&d.display.html.unbind("mouseup",d.htmlEventListeners.get("mouseup")),f("mouseup",function(a){d.handleEndSwipe(a)}))}:function(a){c.DisplayManager.isUserInteractionAllowed()&&(c.Broadcaster.HasListener("TRACK")&&c.Broadcaster.SendMessage("TRACK",{srID:5,page:c.PageManager.getCurrentPageIndex()+1,event:a}),d.fireTrigger(b,a))},"mouseClick"==b&&"touchend"==c.HTML_EVENT_TRIGGER_MAP.mouseClick&&
f("touchstart",function(a){c.DisplayManager.isUserInteractionAllowed()&&(d.touches[a.changedTouches[0].identifier]={x:a.changedTouches[0].screenX,y:a.changedTouches[0].screenY})}),f(a,e)}},handleEndSwipe:function(a){if(null!=this.swipeStartPoint)if("touchmove"==a.type)this.swipeEndPoint={x:a.touches[0].pageX,y:a.touches[0].pageY};else if("touchend"!=a.type&&(this.swipeEndPoint={x:a.pageX,y:a.pageY},null!=this.htmlEventListeners.get("mouseup")&&this.display.html.unbind("mouseup",this.htmlEventListeners.get("mouseup"))),
null!=this.swipeEndPoint){var b;b=(new Date).getTime()-this.swipeStartTime;var c=Math.abs(this.swipeEndPoint.x-this.swipeStartPoint.x),e=Math.abs(this.swipeEndPoint.y-this.swipeStartPoint.y);if((20<c||20<e)&&500>b)b=c>e?this.swipeEndPoint.x>this.swipeStartPoint.x?"swipeRight":"swipeLeft":this.swipeEndPoint.y>this.swipeStartPoint.y?"swipeDown":"swipeUp",this.fireTrigger(b,a)}},removeHTMLListener:function(a){var a=c.HTML_EVENT_TRIGGER_MAP[a],b=this.htmlEventListeners.get(a);null!=b&&(this.display.html.unbind(a,
b),this.htmlEventListeners.remove(a))}});c.Page=c.SproutDisplayNode.extend({construct:function(a,b){this._super(a,b);this.nodeType=this.masterType?"MASTERPAGE":"PAGE";this.elements=new c.HashMap;this.numberElementsReady=0;this.properties={}},readyCheck:function(){this.numberElementsReady>=this.getElements().size()&&this.reportReady()},appendChild:function(a){this._super(a);"ELEMENT"===a.nodeType&&(this.elements.put(a.ID,a),a.addEventListener(w,this.handleElementReady,this))},initialize:function(){this.readyCheck()},
createDisplay:function(){this.display=new c.BasicDisplay(this.displayState)},createDisplayChildren:function(){var a=this;a.elements.forEach(function(b){b.createDisplay();a.display.appendChild(b.display);b.createDisplayChildren()})},activate:function(){var a=this;this.display.setVisibility(!0);this.display.setActive(!0);this.elements.forEach(function(a){a.activate()});this.display.invalidateDisplay(function(){a.dispatchEvent(new c.Event("PAGE_DISPLAYED_EVENT"));!a.isMaster()&&null!=a.trackingLabel&&
""!=a.trackingLabel&&c.Tracker.track({pageLabel:c.Token.translateString(a.trackingLabel).translatedString,node:a})})},deactivate:function(){this.elements.forEach(function(a){a.deactivate()});this.display.setVisibility(!1);this.display.setActive(!1)},getElements:function(){return this.elements},hasMasterBackground:function(){return this.masterBG},hasMasterForeground:function(){return this.masterFG},isMaster:function(){return this.hasOwnProperty("masterType")},handleElementReady:function(){this.numberElementsReady++;
this.readyCheck()}});c.Message={listeners:{},postMessageToParent:function(a,b){i.parent.postMessage&&i.parent.postMessage('{"action":"'+a+'", "sproutID":"'+c.Application.sprout.ID+'"'+(null==b?"":","+b)+"}","*")},addListener:function(a,b){c.Message.actionInitialized(a)||(c.Message.listeners[a]=[]);var d=c.Message.listeners[a];-1==d.indexOf(b)&&d.push(b)},removeListener:function(a,b){if(c.Message.actionInitialized(a)){var d=c.Message.listeners[a],e=d.indexOf(b);-1!=e&&d.splice(e,1)}},actionInitialized:function(a){return c.Message.listeners.hasOwnProperty(a)&&
null!=c.Message.listeners[a]},messageIn:function(a){try{a=JSON.parse(a)}catch(b){c.Logger.log("JSON parse error: "+b)}"object"==typeof a&&a.hasOwnProperty("action")&&c.Message.actionInitialized(a.action)&&c.Message.listeners[a.action].forEach(function(b){b(a)})}};c.Message.replaceChars={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};c.Message.encodeForJSON=function(a){return a.replace(/[\b\t\n\f\r"\\]/g,function(a){return c.Message.replaceChars[a]})};i.addEventListener("message",
function(a){c.Message.messageIn(a.data)},!1);c.Querystring={urlParams:null,init:function(){var a,b=/\+/g,d=/([^&=]+)=?([^&]*)/g,e=i.location.search.substring(1);for(c.Querystring.urlParams={};a=d.exec(e);)c.Querystring.urlParams[decodeURIComponent(a[1].replace(b," "))]=decodeURIComponent(a[2].replace(b," "));delete c.Querystring.urlParams.__v},get:function(a){null===c.Querystring.urlParams&&c.Querystring.init();return a===g?c.Querystring.urlParams:a in c.Querystring.urlParams?c.Querystring.urlParams[a]:
null}};c.EnvironmentVariable=c.Class.extend({screenOrientation:0,construct:function(){this.pageReferrer=this.browserURL=null;this.initializedTimestamp=new Date;this.geoLoaded=!1;this.mouseY=this.mouseX=0;c.Message.addListener("orientationchange",this.handleRotate);c.Broadcaster.AddListener(o,this)},messageIn:function(a,b){switch(a){case o:this.screenOrientation=b.orientation}},handleRotate:function(a){var b=c.Application.sprout;c.EnvVars.screenOrientation=a.orientation;null!=b&&(b.display.html.trigger("orientationchange"),
c.Token.dispatchChangeEvent("sp:screenOrientation",c.EnvVars.screenOrientation))},positionListener:function(a){a.touches&&a.touches[0]?(c.EnvVars.mouseX=a.touches[0].pageX,c.EnvVars.mouseY=a.touches[0].pageY):(c.EnvVars.mouseX=a.pageX,c.EnvVars.mouseY=a.pageY);c.Token.dispatchChangeEvent("sp:mouseX",c.EnvVars.mouseX);c.Token.dispatchChangeEvent("sp:mouseY",c.EnvVars.mouseY);c.Logger.log("mouseX: "+c.EnvVars.getPropertyValue(40).value+" / mouseY: "+c.EnvVars.getPropertyValue(41).value);return!0},enablePositionListener:function(a){a.bind("mousedown",
this.positionListener);c.Browser.isTouchDevice()&&a.bind("touchmove",this.positionListener)},disablePositionListener:function(a){a.unbind("mousedown",this.positionListener);c.Browser.isTouchDevice()&&a.unbind("touchmove",this.positionListener)},pad:function(a,b){a=""+a;for(b=b||2;a.length<b;)a="0"+a;return a},getElapsedTime:function(a){a===g&&(a="mm:ss");return this.formatElapsedTime(((new Date).getTime()-this.initializedTimestamp.getTime())/1E3,a)},formatElapsedTime:function(a,b){var c=isNaN(a)?
0:Math.floor(a),e,f,j,g,h,l,n;b||(b="hh:mm:ss");e=Math.floor(c/86400);c-=86400*e;f=Math.floor(c/3600);c-=3600*f;j=Math.floor(c/60);c-=60*j;g=b.indexOf("d">-1)?b.split("d").length-1:0;h=b.indexOf("h">-1)?b.split("h").length-1:0;l=b.indexOf("m">-1)?b.split("m").length-1:0;n=b.indexOf("s">-1)?b.split("s").length-1:0;g&&(b=b.replace(/d{1,2}/g,this.pad(e,g)));h&&(b=b.replace(/h{1,2}/g,this.pad(f,h)));l&&(b=b.replace(/m{1,2}/g,this.pad(j,l)));n&&(b=b.replace(/s{1,2}/g,this.pad(c,n)));return b},getPropertyValue:function(a){var b=
{pending:!1,property:"",value:""},d=new Date;switch(a){case 31:b.value=""+Math.floor(d.getTime()/1E3);break;case 32:a=6E4*d.getTimezoneOffset();d.setTime(d.getTime()+a);b.value=d.getFullYear()+"-"+this.pad(""+(d.getMonth()+1),2)+"-"+this.pad(""+d.getDate())+"T"+this.pad(d.getHours(),2)+":"+this.pad(d.getMinutes(),2)+":"+this.pad(d.getMinutes(),2)+"Z";break;case 8:b.value=this.pad(d.getHours(),2)+":"+this.pad(d.getMinutes(),2);break;case 27:b.value=this.pad(""+(d.getMonth()+1),2)+"/"+this.pad(""+d.getDate())+
"/"+d.getFullYear();break;case 5:b.value=d.getFullYear();break;case 4:b.value=d.getMonth()+1;break;case 7:b.value=d.getDate();break;case 9:b.value=d.getHours();break;case 6:b.value="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",")[d.getDay()];break;case 11:d="Other";-1!=navigator.appVersion.indexOf("Win")?d="Windows":-1!=navigator.appVersion.indexOf("Mac")?d="Mac":-1!=navigator.appVersion.indexOf("X11")?d="Unix":-1!=navigator.appVersion.indexOf("Linux")&&(d="Linux");b.value=d;
break;case 10:b.value=navigator.language;break;case 25:null==this.browserURL&&(this.browserURL=k.location.href);b.value=this.browserURL;break;case 29:null==this.pageReferrer&&(this.pageReferrer=k.referrer);b.value=this.pageReferrer;break;case 24:return null;case 26:b.value=((new Date).getTime()-this.initializedTimestamp.getTime())/1E3;break;case 30:b.value="true";break;case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:break;case 34:b.value=i.screen.width;break;case 35:b.value=i.screen.height;
break;case 36:b.value="portrait";90==Math.abs(this.screenOrientation)&&(b.value="landscape");break;case 40:b.value=this.mouseX;break;case 41:b.value=this.mouseY;break;case 37:b.value=Boolean(c.Browser.isMotionDevice()).toString();break;default:return null}return b}});c.EnvVars=new c.EnvironmentVariable;c.KeyFramesRule=c.Class.extend({construct:function(a){this.activeAnimation=a;this.totalDuration=a.totalDuration;this.keyFrameProperties=new c.HashMap;this.keyFrames=new c.HashMap},addKeyFrameProperty:function(a,
b,c,e,f,j,g,h,l){var n=this.keyFrameProperties.get(a);n||(n=[],this.keyFrameProperties.put(a,n));n.push({property:a,style:b,startValue:c,endValue:e,units:f,easingFunction:j,duration:g,transform:l,startTime:h,endTime:h+g})},createKeyFrameAtPercentage:function(a){a=h.round(a,3);this.keyFrames.get(a)||this.keyFrames.put(a,new c.KeyFrame(this,a))},getRuleString:function(){var a=this,b=a.activeAnimation.animationName+" {";this.keyFrameProperties.forEach(function(b){if(1<b.length){var c;b.forEach(function(b){if(c){var d=
100*(b.startTime/a.totalDuration),g=100*(c.startTime/a.totalDuration),h=100*(c.endTime/a.totalDuration),l=c.endValue-c.startValue,d=d>h?c.endValue:g==h?c.endValue:c.easingFunction(d-g,c.startValue,l,h-g);b.startValue=d}c=b})}});a.keyFrames.forEach(function(a){b+=a.getKeyFrameString()});return b+="}"},getAnimationName:function(){return this.activeAnimation.animationName}});c.KeyFrame=c.Class.extend({construct:function(a,b){this.keyFramesRule=a;this.percentage=b},getKeyFrameString:function(){var a=
this,b=a.keyFramesRule.activeAnimation.displayNode,d=new c.HashMap,e=new c.HashMap,f=a.keyFramesRule.totalDuration*(a.percentage/100),j,g,i,l,n,k,o,s,q,p,u;a.keyFramesRule.keyFrameProperties.forEach(function(c){g=c[0];c.forEach(function(a){f>a.startTime&&(g=a)});i=h.round(100*(g.startTime/a.keyFramesRule.totalDuration),3);l=h.round(100*(g.endTime/a.keyFramesRule.totalDuration),3);n=l-i;k=a.percentage-i;o=g.endValue-g.startValue;s=a.percentage<i?g.startValue:a.percentage>=l?g.endValue:g.easingFunction(k,
g.startValue,o,n);s=h.round(s,2);g.transform?("translateX"==g.transform?(s-=b.getValue("x"),d.put("left",{style:"left",value:b.getValue("x"),units:"px"})):"translateY"==g.transform&&(s-=b.getValue("y"),d.put("top",{style:"top",value:b.getValue("y"),units:"px"})),e.put(g.transform,{transform:g.transform,value:s,units:g.units})):d.put(g.style,{style:g.style,value:s,units:g.units})});if(0<e.size()||0<d.size()){j=a.percentage+"% {";j+=100!=a.percentage?"margin-bottom:1px;":"margin-bottom:0px;";if(0<e.size()&&
b.transformsEnabled){q={};e.get("translateX")&&(q.translateX=e.get("translateX"));e.get("translateY")&&(q.translateY=e.get("translateY"));e.get("rotate")?q.rotate=e.get("rotate"):0!==b.getValue("rotation")&&(q.rotate={value:b.getValue("rotation"),transform:"rotate",units:"deg"});e.get("scale")?q.scale=e.get("scale"):1!==b.getValue("scale")&&(q.scale={value:b.getValue("scale"),transform:"scale",units:""});j+="-webkit-transform:";for(u in q)p=q[u],j+=p.transform+"("+p.value+p.units+") ";j+=";"}d.forEach(function(a){j+=
a.style+":"+a.value+a.units+";"});j+="}"}else j=a.percentage+"% { } ";return j}});var H={month:4,year:5,dayofweek:6,dayofmonth:7,time:8,unixtime:31,isotime:32,hour:9,language:10,os:11,views:12,visits:13,users:14,countrycode:15,countryname:16,regioncode:17,regionname:18,city:19,latitude:20,longitude:21,postalcode:22,netspeed:23,currentuserviews:24,browserurl:25,elapsedtime:26,formatteddate:27,pagereferrer:29,javascriptaccess:30,formelement:33};c.Token=c.Class.extend({construct:function(a){this.tokenSource=
a;this.tokenString=a.substring(1,a.length-1);this.tokenData=this.tokenString.split(/\|/);this.nameParts=(""+this.tokenData.shift()).split(".");this.unalteredName=this.nameParts.join(".");for(var b=1;b<this.nameParts.length;++b)this.nameParts[b]=this.nameParts[b].toLowerCase();this.name=this.nameParts.join(".");-1!=this.name.search(RegExp("([^.]+).escapedtext(|)?","gi"))&&(this.originalName=this.name,this.name=this.name.replace(RegExp(".escapedtext(.)?","gi"),".text"),this.escapeurl=!0,this.tokenData[0]=
this.name);for(this.dataParams={};0<this.tokenData.length;){var d=""+this.tokenData.shift();if(0!=d.length){var e=d.indexOf("=");0>=e?(b=d,d="true"):(b=d.substring(0,e),d=d.length>e+1?d.substring(e+1,d.length):"");b=b.toLowerCase();this.dataParams[b]=d}}this.defaultValue="";this.dataParams.hasOwnProperty("default")&&(this.defaultValue=this.dataParams["default"],delete this.dataParams["default"]);this.tokenType=c.Token.TYPE_ELEMENT_PROPERTY;0==this.tokenString.indexOf("sp:")?this.tokenType=c.Token.TYPE_INTERNAL:
0==this.tokenString.indexOf("xvar:")||0==this.tokenString.indexOf("fv:")?this.tokenType=c.Token.TYPE_EXTERNAL_VARIABLE:0==this.tokenString.indexOf("pref:")?this.tokenType=c.Token.TYPE_PREFERENCE:0==this.tokenString.indexOf("var:")?this.tokenType=c.Token.TYPE_VARIABLE:(this.elementName=this.nameParts[0],1==this.nameParts.length?(this.property="text",this.name+=".text"):this.property=2==this.nameParts.length?this.nameParts[1]:this.nameParts.splice(2,this.nameParts.length-2));this.regExp=RegExp("{"+
this.tokenString.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")+"}","g");c.Token.TokenMap.put(a,this)},getTokenString:function(){return this.tokenString},getTokenType:function(){return this.tokenType},getDataParams:function(){return this.dataParams},getNameParts:function(){return this.nameParts},getUnalteredName:function(){return this.unalteredName},getElementName:function(){return this.elementName},getProperty:function(){return this.property},getName:function(){return this.name},evaluateValue:function(a){a===
g&&(a=this.tokenSource);var b=this.defaultValue,d="";switch(this.tokenType){case c.Token.TYPE_INTERNAL:d=this.name.substring(3).toLowerCase();b=H[d];b=b!==g?c.EnvVars.getPropertyValue(b).value:this.evaluateInternalValues(d);break;case c.Token.TYPE_ELEMENT_PROPERTY:d=c.Application.sprout.findElementsByName(this.getElementName());null!=d&&0<d.length&&(d=d[0],c.isFunction(c.DataSourceElement)&&d instanceof c.DataSourceElement?(d.tokens.put(this.tokenString,this),1==this.nameParts.length&&!c.EndsWith(this.tokenString,
".text")&&(this.tokenString+=".text"),null!=d.prop.dataSource&&(b=d.evalTokenString(this.tokenString))):b=d.getProperty(this.getProperty(),this.getDataParams()));break;case c.Token.TYPE_VARIABLE:d=this.name.substring(4);b=c.Variable.get(d);break;case c.Token.TYPE_EXTERNAL_VARIABLE:d=this.name.indexOf("xvar:"==0)?this.name.substring(5):this.name.substring(3);b=c.Querystring.get(d);break;case c.Token.TYPE_PREFERENCE:b=this.dataParams.bucket,b||(b=c.Application.sprout.ID),b=c.Cookie.get(b+"_"+this.name.substring(5))}if(null===
b||""===b)b=this.defaultValue;b=this.formatValue(b);return a=a.replace(this.regExp,b)},evaluateInternalValues:function(a){var b="";switch(a){case "projectid":case "sproutid":b=c.Application.sprout.ID;break;case "elapsedtime":b=((new Date).getTime()-c.EnvVars.initializedTimestamp.getTime())/1E3;break;case "mousex":b=c.EnvVars.mouseX!==g?c.EnvVars.mouseX:"";break;case "mousey":b=c.EnvVars.mouseY!==g?c.EnvVars.mouseY:"";break;case "screenorientation":b=0==c.EnvVars.screenOrientation?"portrait":"landscape";
break;case "screenwidth":b=i.screen.width;break;case "screenheight":b=i.screen.height;break;case "tiltavailable":b=c.Browser.isMotionDevice();break;case "random":b=[];this.dataParams.hasOwnProperty("range")?b=(""+this.dataParams.range).split(","):(b.push(100),b.push(0));if(1==b.length)b="";else if(2==b.length){var a=Number(b[0]),d=Number(b[1]);""+b[0]==""+a&&""+d==""+b[1]?(a>d&&(b=a,a=d,d=b),b=""+this.randomInRange(a,d)):b=this.randomPick(b)}else b=this.randomPick(b);break;case "dayofyear":case "weekofyear":b=
new Date;d=new Date(b.getFullYear(),0,1);b=Math.floor((b.getTime()-d.getTime())/846E5);if("dayofyear"==a)break;b=Math.floor((b-d.getDay())/7)+1;break;case "javascriptaccess":b=!0}return b},randomInRange:function(a,b){return Math.round(Math.random()*(b-a)+a)},randomPick:function(a){return a[this.randomInRange(0,a.length-1)]},formatValue:function(a){this.dataParams.hasOwnProperty("firstword")&&(this.dataParams.word="1");this.dataParams.hasOwnProperty("secondword")&&(this.dataParams.word="2");if(this.dataParams.hasOwnProperty("word")){var b=
this.dataParams.hasOwnProperty("delimiter")?this.dataParams.delimiter:" ",d=Math.floor(Number(this.dataParams.word)),b=(""+a).split(b);!isNaN(d)&&0<d&&(a=b.length>=d?b[d-1]:"")}if(this.dataParams.hasOwnProperty("escapeurl")||this.dataParams.hasOwnProperty("encodeurl"))a=escape(""+a);if(this.dataParams.hasOwnProperty("unescapeurl")||this.dataParams.hasOwnProperty("decodeurl"))a=unescape(""+a);if(this.dataParams.hasOwnProperty("escapexml")||this.dataParams.hasOwnProperty("encodexml"))a=(""+a).replace(RegExp("<",
"g"),"&lt;"),a=a.replace(RegExp(">","g"),"&gt;"),a=a.replace(RegExp("&","g"),"&amp;");this.dataParams.hasOwnProperty("trim")&&(a=(""+a).replace(/^\s+|\s+$/g,""));this.dataParams.hasOwnProperty("uppercase")&&(a=(""+a).toUpperCase());this.dataParams.hasOwnProperty("lowercase")&&(a=(""+a).toLowerCase());this.dataParams.hasOwnProperty("capitalize")&&(a=(""+a).toLowerCase(),a=a.replace(/^\w/,function(a){return a.toUpperCase()}));if(this.dataParams.hasOwnProperty("numberformat")){d=this.dataParams.numberformat;
"true"==d&&(d=",.");var b=d.charAt(2),e=parseInt(b),b=Number(a);if(!isNaN(b)){isNaN(e)||(b=h.round(b,e));a=d.charAt(0);e=d.charAt(1)!==g?d.charAt(1):".";b=(""+b).split(".");d=b[0];b=1<b.length?e+b[1]:"";for(e=/(\d+)(\d{3})/;e.test(d);)d=d.replace(e,"$1"+a+"$2");return d+b}}this.dataParams.hasOwnProperty("elapsedtimeformat")&&(b=parseInt(a),isNaN(b)?a="":(d=this.dataParams.elapsedtimeformat,"true"==d&&(d="h:mm:ss"),a=c.EnvVars.formatElapsedTime(b,d)));return a}});c.Token.TYPE_INTERNAL=1;c.Token.TYPE_EXTERNAL_VARIABLE=
2;c.Token.TYPE_VARIABLE=3;c.Token.TYPE_PREFERENCE=4;c.Token.TYPE_ELEMENT_PROPERTY=5;c.Token.tokenRegExp=RegExp("{(fv:|xvar:|sp:|var:|pref:)?[ a-z0-9_\\-]+?(\\.\\@?[ a-z0-9_\\-]+?(\\:[ a-z0-9_]+?)?(\\[[ a-z0-9\\-\\._\\.\\:\\@\\[\\]\\|=]+?\\])?)*?(\\|[^{}\\|]+?)*?\\|?}","gi");c.Token.TokenMap=new c.HashMap;c.Token.BoundElementsMap=new c.HashMap;c.Token.factory=function(a){var b=c.Token.TokenMap.get(a);null==b&&(b=new c.Token(a));return b};c.Token.hasToken=function(a){if("string"!=typeof a||-1==a.indexOf("{"))return!1;
a=a.match(c.Token.tokenRegExp);return null!=a&&0<a.length};c.Token.extractTokens=function(a){return a.match(c.Token.tokenRegExp)};c.Token.translateString=function(a){var b=[],d=c.Token.extractTokens(a);if(null!=d){var e,f;for(e=0;e<d.length;++e)f=c.Token.factory(d[e]),b.push(f),a=f.evaluateValue(a)}return{translatedString:a,tokens:b}};c.Token.bindToToken=function(a,b){if(b.handleTokenUpdate){var d=c.Token.BoundElementsMap.get(a);if(null==d)d=[],d.push(b),c.Token.BoundElementsMap.put(a,d);else{for(var e=
0;e<d.length;++e)if(d[e]===b)return;d.push(b)}}};c.Token.unbindFromToken=function(a,b){var d=c.Token.BoundElementsMap.get(a);if(d)for(var e=0;e<d.length;++e)d[e]===b&&d.splice(e,1)};c.Token.dispatchChangeEvent=function(a,b){var d=c.Token.BoundElementsMap.get(a),e;if(null!=d)for(e=0;e<d.length;++e)d[e].handleTokenUpdate(a,b)};c.Logger={buffer:[],timers:{},categories:{},log:function(a){c.Logger.buffer.push({message:a,time:(new Date).getTime()});c.Logger.timeout()},timeoutActive:!1,timeout:function(){c.Logger.timeoutActive||
(c.Logger.timeoutActive=!0,setTimeout(function(){for(c.Logger.timeoutActive=!1;0<c.Logger.buffer.length;){var a=c.Logger.buffer.shift();c.Broadcaster.SendMessage("LOG",a)}},0))},startTimer:function(a,b){c.Logger.timers[a+":"+b]=(new Date).getTime()},endTimer:function(a,b,d,e,f){d=d||0;b===g&&(b="n/a");var b=a+":"+b,j=(new Date).getTime()-c.Logger.timers[b];c.Logger.categories[a]||(c.Logger.categories[a]=0);c.Logger.categories[a]+=j;j>=d&&c.Logger.log(b+" took "+j+"ms"+(e&&j!=e?", overhead "+(j-e)+
"ms":"")+(f?", "+f:""));delete c.Logger.timers[b]},dump:function(a){var b;if(a)b="Total time in category "+a+": "+c.Logger.categories[a]+"ms";else if(c.Logger.categories){b="Total time in categories\n";var a=[],d;for(d in c.Logger.categories)a.push([d,c.Logger.categories[d]]);a.sort(function(a,b){return b[1]-a[1]});a.forEach(function(a){b+="\t"+a[0]+": "+a[1]+"ms\n"})}b&&c.Logger.log(b)}};c.Sprout=c.SproutDisplayNode.extend({construct:function(a,b){var d=c.Querystring.get();if(d.__startpage&&(b.startPageID=
d.__startpage,d.__startpage_width&&(b.width=parseInt(d.__startpage_width)),d.__startpage_height))b.height=parseInt(d.__startpage_height);this._super(this,b);this.nodeType="SPROUT";this.pages=new c.HashList;this.nodesIDCache=new c.HashMap;this.nodesTypeCache=new c.HashMap;this.nodesTypeCache.put("SPROUT",new c.HashMap);this.nodesTypeCache.put("PAGE",new c.HashMap);this.nodesTypeCache.put("MASTERPAGE",new c.HashMap);this.nodesTypeCache.put("ELEMENT",new c.HashMap);this.nodesTypeCache.put("ACTION",new c.HashMap);
this.nodesTypeCache.put("CONDITION",new c.HashMap);this.nodesTypeCache.put("EFFECT",new c.HashMap);this.nodesTypeCache.put("ASSET",new c.HashMap)},preInitialize:function(){this.startPageID||(this.startPageID=this.pages.keys()[0])},initialize:function(){this._super();this.html=this.display.html;this.html.css("width","100%");this.html.css("height","100%");this.hasMousePositionTokens&&c.EnvVars.enablePositionListener(this.html)},appendChild:function(a){this._super(a);a.masterType!==g?"BACKGROUND"==a.masterType?
this.backgroundMasterPage=a:"FOREGROUND"==a.masterType&&(this.foregroundMasterPage=a):"PAGE"==a.nodeType&&this.pages.put(a.ID,a)},createDisplay:function(){this.display=new c.BasicDisplay(this.displayState)},createDisplayChildren:function(){var a=this;a.backgroundMasterPage.createDisplay();a.display.appendChild(a.backgroundMasterPage.display);a.backgroundMasterPage.createDisplayChildren();a.pages.forEach(function(b){b.createDisplay();a.display.appendChild(b.display);b.createDisplayChildren()});a.foregroundMasterPage.createDisplay();
a.display.appendChild(a.foregroundMasterPage.display);a.foregroundMasterPage.createDisplayChildren()},getPages:function(){return this.pages},addNodeToCache:function(a){this.nodesIDCache.put(a.ID,a);this.nodesTypeCache.get(a.nodeType).put(a.ID,a)},findPageByID:function(a){return this.nodesTypeCache.get("PAGE").get(a)},findPageByIDOrName:function(a){var b=this.findPageByID(a);null===b&&this.nodesTypeCache.get("PAGE").forEach(function(c){null===b&&c.name==a&&(b=c)});return b},findElementByID:function(a){return this.nodesTypeCache.get("ELEMENT").get(a)},
findElementsByName:function(a){var b=[];this.nodesTypeCache.get("ELEMENT").values().forEach(function(c){c.prop.name==a&&b.push(c)});return b},findNodeByID:function(a){return this.nodesIDCache.get(a)},getAdSector:function(a,b){var c=Math.floor(b/10)*(this.width!==g?this.width:0)/10,c=c+Math.floor(a/10);return c+1}});c.Sequencer={lastSequenceID:0,sequences:new c.HashMap,executingSequence:null,newSequence:function(){c.Sequencer.lastSequenceID++;var a=new c.Sequence(c.Sequencer.lastSequenceID);c.Sequencer.sequences.put(a.ID,
a);c.CycleManager.addEventListener(x,c.Sequencer.handleCycleComplete,c.Sequencer);return a},handleCycleComplete:function(){c.Sequencer.sequences.forEach(function(a){a.execute()})},reportSequenceComplete:function(a){c.Sequencer.sequences.remove(a.ID)}};c.Sequence=c.Class.extend({construct:function(a){this.ID=a;this.sequenceSteps=[];this.executingSequenceStep=null;this.executing=!1},addSequenceStepFunction:function(a,b){b===g&&(b=!0);this.addSequenceStep(new c.SequenceStep(a,b))},addSequenceStep:function(a){a.sequence=
this;null!=this.executingSequenceStep?this.executingSequenceStep.addSequenceStep(a):this.sequenceSteps.push(a)},reportSequenceStepComplete:function(){this.executeNextSequenceStep()},executeNextSequenceStep:function(){0<this.sequenceSteps.length?(c.Sequencer.executingSequence=this,this.sequenceSteps.shift().execute(),c.Sequencer.executingSequence=null):c.Sequencer.reportSequenceComplete(this)},execute:function(){this.executing||(this.executing=!0,this.executeNextSequenceStep())}});c.SequenceStep=c.Class.extend({construct:function(a,
b){this.sequence=this.parent=null;this.childSequenceSteps=[];this.sequenceStepFunction=a;this.reportComplete=b},addSequenceStep:function(a){this.childSequenceSteps.push(a);a.parent=this},execute:function(){this.sequence.executingSequenceStep=this;this.sequenceStepFunction();this.reportComplete&&this.completeSequenceStep()},completeSequenceStep:function(){this.sequence.executingSequenceStep=null;this.executeNextChild()},executeNextChild:function(){0<this.childSequenceSteps.length?this.childSequenceSteps.shift().execute():
this.parent?this.parent.reportChildComplete(this):this.sequence.reportSequenceStepComplete(this)},reportChildComplete:function(){this.executeNextChild()}});var x="cycleCompleteEvent";c.Cycle=c.EventDispatcher.extend({construct:function(){var a=this;this._super();setTimeout(function(){a.complete()},0)},complete:function(){c.CycleManager.reportCycleFinished();this.dispatchEvent(new c.Event(x))}});c.CycleManager={currentCycle:null,reportCycleFinished:function(){c.CycleManager.currentCycle=null},addEventListener:function(a,
b,d,e){null===c.CycleManager.currentCycle&&(c.CycleManager.currentCycle=new c.Cycle);c.CycleManager.currentCycle.addEventListener(a,b,d,e)},dispatchEvent:function(a){c.CycleManager.currentCycle.dispatchEvent(a)},hasEventListener:function(a){c.CycleManager.currentCycle.hasEventListener(a)},removeEventListener:function(a,b,d){c.CycleManager.currentCycle.removeEventListener(a,b,d)},removeAllListeners:function(){c.CycleManager.currentCycle.removeAllListeners()}};c.DisplayObject=c.EventDispatcher.extend({construct:function(a){this._super();
this.merge(a);this.html=null;this.childNodes=new c.ArrayList;this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parent=null;this.displayBuildValid=!1;this.validateCallbacks=[]},preInitializeDisplay:function(){this.invalidateDisplayBuild()},assignHtml:function(){this.html||(this.html=h("#"+this.ID))},buildDisplay:function(){this.displayBuildValid=!0},initializeDisplay:function(){},drawDisplay:function(){},destroyDisplay:function(){},invalidateDisplay:function(a){a&&this.validateCallbacks.push(a);
c.DisplayManager.invalidateDisplayNode(this)},invalidateDisplayBuild:function(){this.displayBuildValid=!1;this.invalidateDisplay()},validateDisplay:function(){this.validateCallbacks.forEach(function(a){a.call(null)});this.validateCallbacks=[]},appendChild:function(a){0<this.childNodes.size()?(a.previousSibling=this.lastChild,this.lastChild.nextSibling=a):this.firstChild=a;this.lastChild=a;this.childNodes.add(a);a.parent=this;c.DisplayManager.registerDisplayNode(a);a.preInitializeDisplay();a.buildDisplay();
a.assignHtml();a.initializeDisplay()},insertChild:function(){},prependChild:function(){},removeChild:function(){},saveState:function(){}});c.BasicDisplay=c.DisplayObject.extend({construct:function(a){this._super(a);this.activeTransitions=new c.HashMap;this.activeStyles=new c.HashMap;this.animatingProperties={};this.activeAnimation=null;this.active=!1;this.translateY=this.translateX=0;this.hardwareAcceleratedTransitionsEnabled=this.transformsEnabled=!0;c.Browser.android&&(this.hardwareAcceleratedTransitionsEnabled=
!1)},isHidden:function(){return!this.visibility||!this.parent.visibility},getX:function(){return this.x},setX:function(a,b,c){a=h.round(a-0,2);b?this.addTransition("x",a,b):(this.setTranslateX(0,c),this.x=a,this.invalidateProperty("x",c))},setTranslateX:function(a,b){this.transformsEnabled&&(this.translateX=a=h.round(a-0,2),this.invalidateProperty("x",b))},getTranslateX:function(){return this.translateX},getY:function(){return this.y},setY:function(a,b,c){a=h.round(a-0,2);b?this.addTransition("y",
a,b):(this.setTranslateY(0,c),this.y=a,this.invalidateProperty("y",c))},setTranslateY:function(a,b){this.transformsEnabled&&(this.translateY=a=h.round(a-0,2),this.invalidateProperty("y",b))},getTranslateY:function(){return this.translateY},getWidth:function(){return this.width},setWidth:function(a,b,c){a=h.round(a-0,2);0>a&&(a=0);b?this.addTransition("width",a,b):(this.width=a,this.invalidateProperty("width",c))},getHeight:function(){return this.height},setHeight:function(a,b,c){a=h.round(a-0,2);
0>a&&(a=0);b?this.addTransition("height",a,b):(this.height=a,this.invalidateProperty("height",c))},getRotation:function(){return this.rotation},setRotation:function(a,b,c){this.transformsEnabled&&(a=h.round(a-0,2),b?this.addTransition("rotation",a,b):(this.rotation=a,this.invalidateProperty("rotation",c)))},getFillColor:function(){return this.fillColor},setFillColor:function(a,b,c){this.fillColor=a;this.invalidateProperty("fillColor",c)},getFillColorTo:function(){return this.fillColorTo},setFillColorTo:function(a,
b,c){this.fillColorTo=a;this.invalidateProperty("fillColorTo",c)},getFillType:function(){return this.fillType},setFillType:function(a,b,c){this.fillType=a;this.invalidateProperty("fillType",c)},setVisibility:function(a){"true"==a?a=!0:"false"==a&&(a=!1);this.visibility=a;this.invalidateProperty("visibility")},getBorderColor:function(){return this.borderColor},setBorderColor:function(a){this.borderColor=a;this.invalidateProperty("borderColor")},getBorderWidth:function(){return this.borderWidth},setBorderWidth:function(a,
b,c){a=h.round(a-0,2);0>a&&(a=0);b?this.addTransition("borderWidth",a,b):(this.borderWidth=a,this.invalidateProperty("borderWidth",c))},getBorderStyle:function(){return this.borderStyle},setBorderStyle:function(a){this.borderStyle=a;this.invalidateProperty("borderStyle")},getOpacity:function(){return this.opacity},setOpacity:function(a,b,c){a=h.round(a-0,2);0>a&&(a=0);b?this.addTransition("opacity",a,b):(this.opacity=a,this.invalidateProperty("opacity",c))},getScale:function(){return this.scale},
setScale:function(a,b,c){this.transformsEnabled&&(a=h.round(a-0,2),b?this.addTransition("scale",a,b):(this.scale=a,this.invalidateProperty("scale",c)))},getActive:function(){return this.active},setActive:function(a){this.active=a;this.invalidateProperty("active")},setAttrValue:function(a,b,c){this.html.attr(a,b+c)},invalidateProperty:function(a,b){if(!b){var c=this.getActivePropertyStyle(a);c&&c.interrupt()}this.invalidateDisplay()},getStyle:function(a,b){if(b)return i.getComputedStyle(this.html.get(0)).getPropertyValue(a);
for(var c={},e=this.stylesText,e=e&&0<e.length?e.split(";"):[],f=0,g=e.length;f<g;f++)if(0<=e[f].indexOf(":")){var m=e[f].split(":"),k=h.trim(m[0]),m=h.trim(m[1]);c[k]=m}return c[a]},getTransform:function(a,b){var c=this.getStyle("-webkit-transform",b);if(c&&(c=c.split(/( )(?![^\(\)]*\))/)))for(var e=0,f=c.length;e<f;e++)if(-1!=c[e].indexOf(a))return c[e].substring(c[e].indexOf("(")+1,c[e].indexOf(")"))},processStyles:function(a){for(var b=this,d="",e=!0,f=b.stylesText&&0<b.stylesText.length?b.stylesText.split(";"):
[],g=0,m=f.length;g<m;g++)if(0<=f[g].indexOf(":")){var i=f[g].split(":"),l=h.trim(i[0]),i=h.trim(i[1]);a[l]=i}c.BasicDisplay.DEFAULT_STYLES.forEach(function(c){a[c]=b.renderStyle(c)});b.activeTransitions.forEach(function(a){a.started&&(e?e=!1:d+=",",d+=a.style+" "+a.duration+"ms "+a.easing+" "+a.startTime+"ms")});0<d.length?a["-webkit-transition"]=d:delete a["-webkit-transition"];b.activeAnimation&&b.activeAnimation.started?(a["-webkit-animation-duration"]=b.activeAnimation.totalDuration,a["-webkit-animation-iteration-count"]=
1,a["-webkit-animation-name"]=b.activeAnimation.animationName,a["-webkit-animation-timing-function"]="linear",a["-webkit-animation-fill-mode"]="forwards"):(delete a["-webkit-animation-duration"],delete a["-webkit-animation-iteration-count"],delete a["-webkit-animation-name"],delete a["-webkit-animation-timing-function"],delete a["-webkit-animation-fill-mode"])},renderStyle:function(a){var b=g;switch(a){case "opacity":h.isNumeric(this.opacity)&&(b=this.opacity);break;case "width":h.isNumeric(this.width)&&
(b=this.width+"px");break;case "height":h.isNumeric(this.height)&&(b=this.height+"px");break;case "visibility":this.visibility!==g&&(b="hidden",this.visibility&&this.active&&(b="visible"));break;case "border":if(!h.isNumeric(this.borderWidth))break;b=this.borderWidth+"px";b=this.borderColor?b+(" "+this.borderColor):b+" #000000";b=this.borderStyle?b+(" "+this.borderStyle):b+" solid";break;case "left":h.isNumeric(this.x)&&(b=this.x+"px");break;case "top":h.isNumeric(this.y)&&(b=this.y+"px");break;case "-webkit-transform":b=
"";if(this.transformsEnabled){if(this.hardwareAcceleratedTransitionsEnabled){if(h.isNumeric(this.translateX)&&(0!=this.translateX||this.isPropertyAnimating("x")))b+="translateX("+this.translateX+"px)";if(h.isNumeric(this.translateY)&&(0!=this.translateY||this.isPropertyAnimating("y")))b+=" translateY("+this.translateY+"px)"}if(h.isNumeric(this.scale)&&(1!=this.scale||this.isPropertyAnimating("scale")))b+=" scale("+this.scale+")";if(h.isNumeric(this.rotation)&&(0!=this.rotation||this.isPropertyAnimating("rotation")))b+=
" rotate("+this.rotation+"deg)"}b=b?h.trim(b):g}return b},validateDisplay:function(){this._super();var a,b={},c="";this.processStyles(b);for(a in b)b[a]!==g&&null!==b[a]&&(c+=a+":"+b[a]+";");this.stylesText=c},getComputedValue:function(a){var b;switch(a){case "x":b=this.getTransform("translateX",!0);a=this.getStyle("left",!0).replace("px","");b=parseFloat(a)+(null!==b&&b!==g?parseFloat(b):0);break;case "y":b=this.getTransform("translateY",!0);a=this.getStyle("top",!0).replace("px","");b=parseFloat(a)+
(null!==b&&b!==g?parseFloat(b):0);break;case "width":b=this.getStyle("width",!0).replace("px","");break;case "height":b=this.getStyle("height",!0).replace("px","");break;case "rotation":(a=this.getTransform("rotate",!0))&&(b=a.replace("deg",""));break;case "scale":b=this.getTransform("scale",!0);break;case "opacity":b=this.getStyle("opacity",!0);break;case "borderWidth":b=this.getStyle("border-width",!0).replace("px","")}return b},getValue:function(a){switch(a){case "x":return this.getX();case "y":return this.getY();
case "width":return this.getWidth();case "height":return this.getHeight();case "rotation":return this.getRotation();case "scale":return this.getScale();case "opacity":return this.getOpacity();case "borderWidth":return this.getBorderWidth()}},setValue:function(a,b,c){switch(a){case "x":this.setX(b,g,c);break;case "y":this.setY(b,g,c);break;case "width":this.setWidth(b,g,c);break;case "height":this.setHeight(b,g,c);break;case "rotation":this.setRotation(b,g,c);break;case "scale":this.setScale(b,g,c);
break;case "opacity":this.setOpacity(b,g,c);break;case "borderWidth":this.setBorderWidth(b,g,c)}},addActiveTransition:function(a){var b=this.getActivePropertyStyle(a.property);b&&b.interrupt();this.activeTransitions.put(a.property,a);this.setActivePropertyStyle(a.property,a);this.invalidateDisplay()},removeActiveTransition:function(a){this.activeTransitions.remove(a);this.removeActivePropertyStyle(a);this.invalidateDisplay()},addActiveAnimation:function(a){var b=this;this.activeAnimation&&this.activeAnimation.interrupt();
a.transitions.forEach(function(a){(a=b.getActivePropertyStyle(a.property))&&a.interrupt()});this.activeAnimation=a;a.transitions.forEach(function(c){b.setActivePropertyStyle(c.property,a)});this.invalidateDisplay()},removeActiveAnimation:function(){var a=this;a.activeAnimation&&a.activeAnimation.transitions.forEach(function(b){a.removeActivePropertyStyle(b.property)});a.activeAnimation=null;a.invalidateDisplay()},addTransition:function(a,b,d){d=new c.Transition(d.duration,d.easingType,d.easingMode,
d.delay,d.order);d.endValue=b;d.displayNode=this;d.property=a;c.DisplayManager.addTransition(d)},styleChanged:function(a){return this.getStyle(a)!=this.renderStyle(a)},isPropertyAnimating:function(a){return!!this.animatingProperties[a]},getActivePropertyStyle:function(a){return this.activeStyles.get(this.convertPropertyToStyle(a))},setActivePropertyStyle:function(a,b){this.animatingProperties[a]=!0;this.activeStyles.put(this.convertPropertyToStyle(a),b)},removeActivePropertyStyle:function(a){delete this.animatingProperties[a];
this.activeStyles.remove(this.convertPropertyToStyle(a))},convertPropertyToStyle:function(a){var b="";switch(a){case "x":b=this.executeTransforms&&this.hardwareAcceleratedTransitionsEnabled?"-webkit-transform":"left";break;case "y":b=this.executeTransforms&&this.hardwareAcceleratedTransitionsEnabled?"-webkit-transform":"top";break;case "width":case "height":case "opacity":b=a;break;case "rotation":case "scale":b="-webkit-transform";break;case "borderWidth":b="border-width"}return b}});c.BasicDisplay.DEFAULT_STYLES=
"opacity,width,height,visibility,border,left,top,-webkit-transform".split(",");var o="BRIDGE_READY",w="READY_EVENT";c.BaseApp=c.DisplayObject.extend({construct:function(a){this._super({ID:"applicationContainer"});this.sprout=this.factory(null,a);this.hasMRAID=this.isInApp=!1;this.startPage=null;this.numberReadyObjects=0;this.blockingObjects=[];this.bridgeReadyMessageReceived=!1;c.Broadcaster.AddListener("FIRST_PAGE_DISPLAYED",this)},factory:function(a,b){if(c[b.classname]===g)return null;var d=new c[b.classname](a,
b.object),e,f=this;b.children.forEach(function(a){e=f.factory(d.ownerSprout,a);null!=e&&d.appendChild(e)});return d},messageIn:function(a){switch(a){case "FIRST_PAGE_DISPLAYED":a=c.Querystring.get(),c.Message.postMessageToParent("ready"),a.__bypass_load_tracking||c.Broadcaster.SendMessage("TRACK",{srID:1})}},start:function(){this.preInitializeApplication();this.createApplicationDisplay();this.initializeApplication()},preInitializeApplication:function(){c.Broadcaster.SendMessage("APPLICATION_PRE_INIT");
this.preInitializeRecursive(this.sprout);this.startPage=this.sprout.findPageByID(this.sprout.startPageID)},createApplicationDisplay:function(){this.assignHtml();c.Broadcaster.SendMessage("APPLICATION_CREATE");this.sprout.createDisplay();this.appendChild(this.sprout.display);this.sprout.createDisplayChildren()},initializeApplication:function(){this.startBlocking();c.Broadcaster.SendMessage("APPLICATION_INIT");this.initializeTracking();this.initializeRecursive(this.sprout);this.postInitializeRecursive(this.sprout);
this.initializeEventPassing();this.initializeLogPassing();this.initializeOrientationLock();this.initializeBridge()},startBlocking:function(){c.Broadcaster.SendMessage("START_BLOCKING");this.registerBlockingObject(this.startPage);this.startPage.hasMasterBackground()&&this.registerBlockingObject(this.sprout.backgroundMasterPage);this.startPage.hasMasterForeground()&&this.registerBlockingObject(this.sprout.foregroundMasterPage)},initializeTracking:function(){c.Broadcaster.SendMessage("TRACKING_INIT");
var a=this.sprout;if(!c.Querystring.get().__bypass_interact_tracking&&a.trackBase.length){c.AccountingTracking.init(a);var b=function(){try{c.AccountingTracking.track({action:"INTERACTION"}),h("body").unbind("mouseover",b),h("body").unbind("mousedown",b),h("body").unbind("touchstart",b)}catch(a){c.Logger.log("AdVine Accounting TRACKING ERROR: "+a.name+": "+a.message)}return!0};h("body").bind("mouseover",b);h("body").bind("mousedown",b);h("body").bind("touchstart",b)}},initializeBridge:function(){var a=
this;c.Message.addListener("bridgeReady",function(b){a.isInApp=b.isInApp;a.hasMRAID=b.hasMRAID;c.Broadcaster.SendMessage(o,b);a.bridgeReadyMessageReceived=!0;a.readyToActivateCheck()});c.Message.postMessageToParent("initBridge")},initializeEventPassing:function(){c.Message.addListener("passevent",function(a){var b=null,d=a.event;switch(a.eventtype){case "touchend":case "mouseup":c.Browser.android&&(b=k.createEvent("MouseEvent"),b.initMouseEvent(a.eventtype,!0,!0,i,0,d.screenX,d.screenY,d.clientX,
d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,0,null));break;case "keypress":b=k.createEvent("KeyboardEvent"),b.initKeyboardEvent(a.eventtype,!0,!0,k,d.keyIdentifier,d.keyLocation,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey),b.keyCode=d.keyCode}b&&k.body.dispatchEvent(b)})},initializeLogPassing:function(){c.Message.addListener("log",function(a){c.Logger.log(unescape(a.message))})},initializeOrientationLock:function(){("portrait"===this.sprout.lockOrientationValue||"landscape"===this.sprout.lockOrientationValue)&&
c.Message.postMessageToParent("expandprops",'"lockOrientation": true,"orientation": "'+this.sprout.lockOrientationValue+'"')},preInitializeRecursive:function(a){var b=this;a.preInitialize();a.childNodes.values().forEach(function(a){b.preInitializeRecursive(a)})},initializeRecursive:function(a){var b=this;a.initialize();a.childNodes.values().forEach(function(a){b.initializeRecursive(a)})},postInitializeRecursive:function(a){var b=this;a.postInitialize();a.childNodes.values().forEach(function(a){b.postInitializeRecursive(a)})},
readyToActivateCheck:function(){this.numberReadyObjects>=this.blockingObjects.length&&this.bridgeReadyMessageReceived&&c.PageManager.activatePage(this.startPage.ID)},registerBlockingObject:function(a){a.addEventListener(w,this.handleBlockingObjectReady,this);this.blockingObjects.push(a)},handleBlockingObjectReady:function(a){a.target.removeEventListener(w,this.handleBlockingObjectReady,this);this.numberReadyObjects++;this.readyToActivateCheck()}});c.PageManager=c.EventDispatcher.extend({construct:function(){this._super();
this.activePage=null;this.firstPageDisplayed=this.parentCanLink=!1;c.Broadcaster.AddListener(o,this)},getActivePage:function(){return this.activePage},messageIn:function(a,b){switch(a){case o:this.parentCanLink=b.parentCanLink}},activatePage:function(a){var b=this;if(null==b.activePage||b.activePage.ID!=a){var d=c.Application.sprout.findPageByIDOrName(a);if(null!=d){var e=null!=b.activePage?b.activePage.hasMasterBackground():!1,a=e&&!d.hasMasterBackground(),e=!e&&d.hasMasterBackground(),f=c.Application.sprout.backgroundMasterPage,
g=null!=b.activePage?b.activePage.hasMasterForeground():!1,h=g&&!d.hasMasterForeground(),g=!g&&d.hasMasterForeground(),i=c.Application.sprout.foregroundMasterPage,l=[],k=[];a?l.push(f):e&&k.push(f);null!=b.activePage&&l.push(b.activePage);k.push(d);h?l.push(i):g&&k.push(i);a=c.Sequencer.newSequence();a.addSequenceStepFunction(function(){b.dispatchEvent(new c.Event("BEFORE_PAGE_HIDE_EVENT"));b.activePage=null;l.forEach(function(a){a.fireTrigger("pageHide")})});a.addSequenceStepFunction(function(){b.dispatchEvent(new c.Event("DEACTIVATE_PAGE_START_EVENT"));
l.forEach(function(a){a.deactivate()});l.forEach(function(a){a.fireTrigger("after:pageHide")});b.activePage=d;k.forEach(function(a){a.activate()});k.forEach(function(a){a.fireTrigger("before:pageShow")});b.dispatchEvent(new c.Event("BEFORE_PAGE_SHOW_EVENT"));b.firstPageDisplayed||b.activePage.addEventListener("PAGE_DISPLAYED_EVENT",b.handleFirstPageDisplayed,b)});a.addSequenceStepFunction(function(){k.forEach(function(a){a.fireTrigger("pageShow")})})}}},handleFirstPageDisplayed:function(a){a.target.removeEventListener("PAGE_DISPLAYED_EVENT",
this.handleFirstPageDisplayed,this);c.Broadcaster.SendMessage("FIRST_PAGE_DISPLAYED");this.firstPageDisplayed=!0}});c.PageManager.instance=null;c.PageManager.getInstance=function(){c.PageManager.instance||(c.PageManager.instance=new c.PageManager);return c.PageManager.instance};c.PageManager.getActivePage=function(){return c.PageManager.getInstance().getActivePage()};c.PageManager.getCurrentPageIndex=function(){var a=c.PageManager.getActivePage();return null!=a?c.Application.sprout.getPages().indexOfKey(a.ID):
0};c.PageManager.goToPage=function(a){var a=a.substring(3),b=c.Application.sprout.getPages(),d=b.size(),e=c.PageManager.getCurrentPageIndex();"_FIRSTPAGE"==a?a=b.getAtIndex(0).ID:"_LASTPAGE"==a?a=b.getAtIndex(d-1).ID:"_NEXTPAGE"==a?a=b.getAtIndex(e==d-1?0:e+1).ID:"_PREVIOUSPAGE"==a&&(a=b.getAtIndex(0==e?d-1:e-1).ID);a=a.replace(":","_");c.PageManager.activatePage(a)};c.PageManager.activatePage=function(a){c.PageManager.getInstance().activatePage(a)};c.PageManager.isPreviewMode=function(){return 0<
i.location.href.indexOf("preview=true")};c.PageManager.goToURL=function(a,b,d,e){var f=d?c.Querystring.get(d):null;f&&(a=f);c.Token.hasToken(a)&&(a=c.Token.translateString(a).translatedString);if(f=a.match(/^(\w+):([^\/].*)/))if(c.PageManager.isPreviewMode()&&("sms"==f[1]||"tel"==f[1]))f[2]=f[2].split("?")[0],i.top.showAlert("When viewed in a mobile device, this link will prompt the viewer to "+("sms"==f[1]?"send a text message to ":"call ")+f[2]+". This functionality cannot be previewed in a desktop browser.");
else{c.PageManager.navigateURL(a,"_self_sms_tel");var g;switch(f[1]){case "sms":g="SMS";break;case "tel":g="CALL"}g&&c.Tracker.track({srID:8,ctaID:f[2],action:g,node:e,directInteraction:!0})}else"#"===a.substr(0,1)?c.Message.postMessageToParent("goToURL",'"url": "'+a+'"'):a&&(a=h.ensureCompleteURL(a),c.PageManager.isPreviewMode()&&"_blank"!=b?i.top.showPrompt("After publishing, this link will open in the same window. Because you're in preview mode, a new window will open instead.",a,function(){b=
"_blank";c.Tracker.processURL(a,b,d)}):("_blank"==b&&2.2<=c.Browser.android&&(b="_top"),c.Tracker.processURL(a,b,d)))};c.PageManager.navigateURL=function(a,b){5<=c.Browser.iOS&&(!b||"_self"===b||"_top"===b||c.Application.isInApp&&c.AdManager.getAdNetwork()===z)&&c.Message.postMessageToParent("resetIframeOnPersistedPageshow");if(c.PageManager.getInstance().parentCanLink)c.Message.postMessageToParent("goToURL",'"url": "'+a+'","target": "'+b+'"');else if("_blank"===b)i.open(a);else if("_self"===b)i.parent.location.href=
a;else if("_self_sms_tel"===b)i.location.href=a;else try{i.top.location.href=a}catch(d){i.open(a)}};c.PageManager.addEventListener=function(a,b,d){c.PageManager.getInstance().addEventListener(a,b,d)};c.PageManager.getInstance();c.DisplayManager=c.Class.extend({construct:function(){this.buildingDisplaySequenceStep=null;this.activeDisplaySequenceSteps=new c.HashMap;this.keyFramesRules={};this.userInteractionAllowed=!1;this.invalidatedDisplayNodes=new c.HashList;this.displayValid=!0;this.styleSheet=
null;this.displayNodes={};c.Broadcaster.AddListener("APPLICATION_INIT",this)},messageIn:function(a){switch(a){case "APPLICATION_INIT":this.styleSheet=h("#sproutDynamicStyles").get(0),c.PageManager.addEventListener("BEFORE_PAGE_HIDE_EVENT",this.handleBeforePageHide,this),c.PageManager.addEventListener("BEFORE_PAGE_SHOW_EVENT",this.handleBeforePageShow,this),c.PageManager.addEventListener("DEACTIVATE_PAGE_START_EVENT",this.handleDeactivatePageStart,this)}},isUserInteractionAllowed:function(){return this.userInteractionAllowed},
setUserInteractionAllowed:function(a){this.userInteractionAllowed=a},addTransition:function(a){this.startDisplaySequenceStep(a);this.buildingDisplaySequenceStep.addTransition(a)},startDisplaySequenceStep:function(){var a,b=this;null===b.buildingDisplaySequenceStep&&(a=new c.DisplaySequenceStep(function(){a.render();b.activeDisplaySequenceSteps.put(a.ID,a)},!1),b.buildingDisplaySequenceStep=a,null!=c.Sequencer.executingSequence?c.Sequencer.executingSequence.addSequenceStep(a):c.Sequencer.newSequence().addSequenceStep(a),
c.CycleManager.addEventListener(x,this.handleCycleComplete,this,-10))},reportDisplaySequenceStepComplete:function(a){this.activeDisplaySequenceSteps.remove(a.ID)},forceDisplayComplete:function(){this.activeDisplaySequenceSteps.forEach(function(a){a.forceComplete()})},invalidateDisplayNode:function(a){this.invalidateDisplay();-1===this.invalidatedDisplayNodes.indexOfKey(a.ID)&&this.invalidatedDisplayNodes.put(a.ID,a)},invalidateDisplay:function(){this.displayValid&&(this.displayValid=!1,c.CycleManager.addEventListener(x,
this.handleCycleComplete,this,-10))},validateDisplay:function(){if(!this.displayValid){var a=this.invalidatedDisplayNodes;this.invalidatedDisplayNodes=new c.HashList;this.displayValid=!0;a.forEach(function(a){a.displayBuildValid||a.buildDisplay()});a.forEach(function(a){a.validateDisplay()});this.updateStyleSheet();a.forEach(function(a){a.drawDisplay()});a.clear()}},updateStyleSheet:function(){var a="",b,c;for(c in this.displayNodes)b=this.displayNodes[c],b.stylesText&&(a+="#"+b.ID+" {"+b.stylesText+
"}");for(var e in this.keyFramesRules)a+=" "+this.keyFramesRules[e];this.styleSheet.innerText=a},registerDisplayNode:function(a){this.displayNodes[a.ID]=a},addKeyFramesRule:function(a){this.keyFramesRules[a.getAnimationName()]="@-webkit-keyframes "+a.getRuleString();this.invalidateDisplay()},deleteKeyFramesRule:function(a){delete this.keyFramesRules[a];this.invalidateDisplay()},handleBeforePageHide:function(){this.setUserInteractionAllowed(!1)},handleBeforePageShow:function(){this.setUserInteractionAllowed(!0)},
handleDeactivatePageStart:function(){this.forceDisplayComplete()},handleCycleComplete:function(){this.buildingDisplaySequenceStep=null;this.validateDisplay()}});c.DisplayManager.instance=null;c.DisplayManager.getInstance=function(){c.DisplayManager.instance||(c.DisplayManager.instance=new c.DisplayManager);return c.DisplayManager.instance};c.DisplayManager.addTransition=function(a){c.DisplayManager.getInstance().addTransition(a)};c.DisplayManager.addKeyFramesRule=function(a){c.DisplayManager.getInstance().addKeyFramesRule(a)};
c.DisplayManager.deleteKeyFramesRule=function(a){c.DisplayManager.getInstance().deleteKeyFramesRule(a)};c.DisplayManager.invalidateDisplayNode=function(a){c.DisplayManager.getInstance().invalidateDisplayNode(a)};c.DisplayManager.isUserInteractionAllowed=function(){return c.DisplayManager.getInstance().isUserInteractionAllowed()};c.DisplayManager.registerDisplayNode=function(a){c.DisplayManager.getInstance().registerDisplayNode(a)};c.DisplayManager.reportDisplaySequenceStepComplete=function(a){c.DisplayManager.getInstance().reportDisplaySequenceStepComplete(a)};
c.DisplayManager.validateDisplay=function(){c.DisplayManager.getInstance().validateDisplay()};c.DisplayManager.getInstance();z="inmobi";c.AdManager=c.EventDispatcher.extend({construct:function(){this._super();this.state=this.adNetwork=this.adFormat=null;this.initializedState=!1;c.Broadcaster.AddListener("APPLICATION_PRE_INIT",this);c.Broadcaster.AddListener("APPLICATION_INIT",this)},getAdFormat:function(){return this.adFormat},getAdNetwork:function(){return this.adNetwork},getAdState:function(){return this.state},
messageIn:function(a){var b=this;switch(a){case "APPLICATION_PRE_INIT":this.loadAdProperties();this.setInitialState();break;case "APPLICATION_INIT":c.Message.addListener("projectDismissed",function(){b.handleProjectDismissed()})}},loadAdProperties:function(){this.adFormat=c.Application.sprout.format;this.adNetwork=c.Application.sprout.adNetwork},setInitialState:function(){"collapsible"===this.adFormat||"interstitial"===this.adFormat||"two-piece"===this.adFormat||"expandable"===this.adFormat&&"millennial"===
this.adNetwork&&"1"===c.Querystring.get("__bypass_load_tracking")?this.updateState(1):"expandable"===this.adFormat?this.updateState(2):this.updateState(4);this.initializedState=!0},expand:function(a,b,d,e,f){this.changeState(1,function(){c.Tracker.track({action:(f?"":"A_")+"EXPAND",node:d});c.Application.sprout.display.setWidth(a);c.Application.sprout.display.setHeight(b);c.Application.sprout.display.invalidateDisplay(function(){c.Message.postMessageToParent("expand",'"width": '+a+',"height": '+b)})})},
collapse:function(a,b,d,e,f,g){g||(g=!1);var h=this;this.changeState(2,function(){c.Tracker.track({action:(f?"":"A_")+"COLLAPSE",node:d});c.Application.sprout.display.setWidth(a);c.Application.sprout.display.setHeight(b);c.Application.sprout.display.invalidateDisplay(function(){c.Message.postMessageToParent("collapse",'"width": '+a+',"height": '+b+',"trigger": "'+e+'","stateChangedByAd":'+g)});!c.Application.isInApp&&"two-piece"===h.adFormat&&i.history.back()})},close:function(a,b){b||(b=!1);var d=
this;this.changeState(3,function(){c.Tracker.track({action:"COLLAPSE",node:a});!c.Application.isInApp&&"two-piece"===d.adFormat&&i.history.back();c.Message.postMessageToParent("close",'"stateChangedByAd":'+b)})},changeState:function(a,b){if(this.state!==a&&3!==this.state){var d={oldState:this.state,newState:a};this.state=a;b();this.dispatchEvent(new c.Event("STATE_CHANGE_EVENT",d))}},updateState:function(a){!this.initializedState&&4==a?this.state=4:this.state!==a&&3!==this.state&&(this.state=a)},
handleProjectDismissed:function(){"interstitial"===c.AdManager.getAdFormat()?c.AdManager.close(this):(c.AdManager.collapse(c.Application.sprout.width,c.Application.sprout.height,this,"click",!0),"expandable"===c.AdManager.getAdFormat()&&!("millennial"===c.AdManager.getAdNetwork()&&c.Application.isInApp)&&c.PageManager.goToPage("sp:_FIRSTPAGE"))}});c.AdManager.instance=null;c.AdManager.getInstance=function(){c.AdManager.instance||(c.AdManager.instance=new c.AdManager);return c.AdManager.instance};
c.AdManager.getAdFormat=function(){return c.AdManager.getInstance().getAdFormat()};c.AdManager.getAdNetwork=function(){return c.AdManager.getInstance().getAdNetwork()};c.AdManager.getAdState=function(){return c.AdManager.getInstance().getAdState()};c.AdManager.close=function(a,b){c.AdManager.getInstance().close(a,b)};c.AdManager.collapse=function(a,b,d,e,f,g){c.AdManager.getInstance().collapse(a,b,d,e,f,g)};c.AdManager.expand=function(a,b,d,e,f){c.AdManager.getInstance().expand(a,b,d,e,f)};c.AdManager.getInstance();
c.CloseButtonDisplay=c.BasicDisplay.extend({construct:function(a){a.ID="closebutton";this._super(a);this.closeButtonImageHtml=this.closeButtonBackupHtml=this.closeButtonWrapperHtml=null;this.loadedSource="";this.ready=this.usingBackup=this.loading=!1},getSource:function(){return this.source},setSource:function(a){a!==this.source&&(this.source=a,this.invalidateDisplay(),this.useBackup(!1))},preInitializeDisplay:function(){this._super();this.source||this.setSource("http://edge.sproutbuilder.com/html/assets/mraid-close-100x100.png")},
buildDisplay:function(){this._super();this.createCloseButtonWrapper();this.usingBackup?(this.destroyCloseButtonImage(),this.createBackupButton()):(this.createCloseButtonImage(),this.destroyBackupButton())},initializeDisplay:function(){this._super();var a={display:this};h(this.closeButtonWrapperHtml).bind("click",a,this.handleClick)},drawDisplay:function(){this._super();if(this.closeButtonImageHtml){var a="block";this.source!==this.loadedSource&&(this.loadedSource=this.closeButtonImageHtml.src=this.source,
this.loading=!0);this.loading&&(a="none");var b=(this.getWidth()-this.closeButtonImageHtml.width)/2,c=(this.getHeight()-this.closeButtonImageHtml.height)/2;this.closeButtonImageHtml.setAttribute("style","display:"+a+";position:absolute;left:"+b+"px;top:"+c+"px;cursor:pointer;")}else b=this.getWidth()-50,c=this.getHeight()-50,this.closeButtonBackupHtml.setAttribute("style","display:block;position:absolute;left:"+b+"px;top:"+c+"px;width:50px;height:50px;cursor:pointer;-webkit-box-shadow:inset 0px 0px 0px 3px #ffffff;box-shadow:inset 0px 0px 0px 3px #ffffff;background-color:#000000;-webkit-border-radius:42px;border-radius:42px;border:2px solid #cccccc;color:#ffffff;font: normal 15px Arial;padding:6px 10px;text-decoration:none;"),
this.ready||this.reportReady()},processStyles:function(a){this._super(a);a.overflow="hidden"},createCloseButtonWrapper:function(){this.closeButtonWrapperHtml||(this.closeButtonWrapperHtml=k.createElement("div"),this.closeButtonWrapperHtml.id=this.ID,this.parent.html.append(this.closeButtonWrapperHtml))},createCloseButtonImage:function(){var a=this;this.closeButtonImageHtml||(this.closeButtonImageHtml=new Image,this.closeButtonImageHtml.style.display="none",this.closeButtonImageHtml.onload=function(){a.loading=
!1;a.invalidateDisplay();a.reportReady()},this.closeButtonImageHtml.onerror=function(){"http://edge.sproutbuilder.com/html/assets/mraid-close-100x100.png"===a.source?(a.loading=!1,a.useBackup(!0)):a.setSource("http://edge.sproutbuilder.com/html/assets/mraid-close-100x100.png")},"http://edge.sproutbuilder.com/html/assets/mraid-close-100x100.png"===this.source&&(this.closeButtonImageHtml.width=50,this.closeButtonImageHtml.height=50),this.closeButtonWrapperHtml.appendChild(this.closeButtonImageHtml))},
destroyCloseButtonImage:function(){this.closeButtonImageHtml&&(this.closeButtonWrapperHtml.removeChild(this.closeButtonImageHtml),this.closeButtonImageHtml.onload=null,this.closeButtonImageHtml=this.closeButtonImageHtml.onerror=null)},createBackupButton:function(){this.closeButtonBackupHtml=k.createElement("div");this.closeButtonBackupHtml.innerHTML="X";this.closeButtonWrapperHtml.appendChild(this.closeButtonBackupHtml)},destroyBackupButton:function(){this.closeButtonBackupHtml&&(this.closeButtonWrapperHtml.removeChild(this.closeButtonBackupHtml),
this.closeButtonBackupHtml=null)},reportReady:function(){this.ready=!0;this.dispatchEvent(new c.Event("CLOSE_BUTTON_READY_EVENT"))},useBackup:function(a){this.usingBackup!==a&&(this.usingBackup=a,this.invalidateDisplayBuild())},handleClick:function(a){a.data.display.dispatchEvent(new c.Event("clickEvent"))}});c.CloseButtonManager=c.BlockingObject.extend({construct:function(){this._super();this.closeButtonType="default";this.closeButtonSource="http://edge.sproutbuilder.com/html/assets/mraid-close-100x100.png";
this.closeButtonDisplay=this.closeButtonCreator=null;c.Broadcaster.AddListener("APPLICATION_PRE_INIT",this);c.Broadcaster.AddListener("START_BLOCKING",this);c.Broadcaster.AddListener(o,this)},messageIn:function(a){switch(a){case "APPLICATION_PRE_INIT":this.loadCloseButtonProperties();break;case "START_BLOCKING":c.Application.registerBlockingObject(this);break;case o:this.closeButtonCreator=this.determineCloseButtonCreator(),3==this.closeButtonCreator?(this.useCustomClose(!0),this.reportReady()):2==
this.closeButtonCreator?(this.createCloseButton(),this.useCustomClose(!0)):1==this.closeButtonCreator&&this.reportReady()}},useCustomClose:function(a){c.Message.postMessageToParent("useCustomClose",'"customClose":'+a)},loadCloseButtonProperties:function(){this.closeButtonType=c.Application.sprout.closeButtonType;"custom"===this.closeButtonType?this.closeButtonSource=c.Application.sprout.closeButtonSource:"none"===this.closeButtonType&&(this.closeButtonSource="")},determineCloseButtonCreator:function(){if("none"===
this.closeButtonType)return 3;if("standard"===c.AdManager.getAdFormat())return 1;if(c.Application.isInApp){if("custom"===this.closeButtonType&&c.AdManager.getAdNetwork()===z){var a=c.Querystring.get();if("true"===a.isInApp&&"true"===a.hasMRAID&&"true"!==a.isInMobiPreRelease)return 2}}else switch(c.AdManager.getAdFormat()){case "expandable":case "interstitial":return 2}return 1},createCloseButton:function(){var a=this,b=!1;1===c.AdManager.getAdState()&&(b=!0);this.closeButtonDisplay=new c.CloseButtonDisplay({x:c.Application.sprout.width-
50,y:0,width:50,height:50,source:this.closeButtonSource,visibility:b,stylesText:"position:absolute;"});this.closeButtonDisplay.setActive(!0);this.closeButtonDisplay.addEventListener("clickEvent",function(){"interstitial"===c.AdManager.getAdFormat()?c.AdManager.close(this,!0):(c.AdManager.collapse(c.Application.sprout.width,c.Application.sprout.height,this,"click",!0,!0),"expandable"===c.AdManager.getAdFormat()&&!("millennial"===c.AdManager.getAdNetwork()&&c.Application.isInApp)&&c.PageManager.goToPage("sp:_FIRSTPAGE"))},
this);this.closeButtonDisplay.addEventListener("CLOSE_BUTTON_READY_EVENT",function(){a.reportReady()},this);c.Application.appendChild(this.closeButtonDisplay);c.AdManager.getInstance().addEventListener("STATE_CHANGE_EVENT",this.handleStateChange,this)},handleStateChange:function(a){switch(a.data.newState){case 1:2==this.closeButtonCreator&&this.closeButtonDisplay.setVisibility(!0);break;case 3:case 2:2==this.closeButtonCreator&&this.closeButtonDisplay.setVisibility(!1)}}});c.CloseButtonManager.instance=
null;c.CloseButtonManager.getInstance=function(){c.CloseButtonManager.instance||(c.CloseButtonManager.instance=new c.CloseButtonManager);return c.CloseButtonManager.instance};c.CloseButtonManager.getInstance();c.Tracker=c.Class.extend({construct:function(){this.trackerBackends=[];c.Broadcaster.AddListener("APPLICATION_INIT",this)},getTrackerBackends:function(){return this.trackerBackends},messageIn:function(a){switch(a){case "APPLICATION_INIT":this.init()}},init:function(){c.Application.sprout.hasOwnProperty("doubleclick")&&
this.trackerBackends.push(new c.DoubleClick)}});c.Tracker.instance=null;c.Tracker.getInstance=function(){c.Tracker.instance||(c.Tracker.instance=new c.Tracker);return c.Tracker.instance};c.Tracker.track=function(a){a.hasOwnProperty("sproutID")||(a.sproutID=c.Application.sprout.ID);c.Tracker.getInstance().getTrackerBackends().forEach(function(b){b.track(a)});c.Broadcaster.SendMessage("TRACK",a)};c.Tracker.processURL=function(a,b,d){c.Broadcaster.SendMessage("PROCESS_URL",{url:a,target:b,clickTag:d})||
c.PageManager.navigateURL(a,b)};c.Tracker.getFilename=function(a){var b=a;c.Tracker.getInstance().getTrackerBackends().forEach(function(c){b==a&&"function"===typeof c.getFilename&&(b=c.getFilename(a))});return b};c.Tracker.controlTimer=function(a,b){c.Tracker.getInstance().getTrackerBackends().forEach(function(c){"function"===typeof c.controlTimer&&c.controlTimer(a,b)})};c.Tracker.getInstance();c.AccountingTracking={init:function(a){c.AccountingTracking.sprout=a},interacted:!1,track:function(a){"INTERACTION"==
a.action?c.AccountingTracking.trackInteraction():"IMPRESSION"==a.action&&c.AccountingTracking.getPixel("impression")},trackInteraction:function(){if(!c.AccountingTracking.interacted&&"true"!==c.Cookie.get("adv_interact_"+c.AccountingTracking.sprout.ID)){c.AccountingTracking.interacted=!0;var a=new Date;a.setTime(a.getTime()+3E5);c.Cookie.set("adv_interact_"+c.AccountingTracking.sprout.ID,"true",{expires:a});c.AccountingTracking.getPixel("interaction")}},getPixel:function(a){var b=new Image,a=c.AccountingTracking.sprout.trackBase+
"&m="+encodeURIComponent("b:"+i.btoa("t="+a+"&r="+Math.floor(1001*Math.random())));b.src=a}};c.AdVineTracking=c.Class.extend({AVSR_VERSION:3,construct:function(){this.parentCanTrack=!1;c.Broadcaster.AddListener("TRACKING_INIT",this);c.Broadcaster.AddListener("TRACK",this);c.Broadcaster.AddListener("PROCESS_URL",this);c.Broadcaster.AddListener(o,this)},initialize:function(){var a=c.Querystring.get(),b;a.__im_curl?(b=a.__im_curl,delete a.__im_curl,a.src="sprout"):a.curl&&(b=a.curl,delete a.curl,a.src=
"sprout");b&&this.addServerEndpoint(this.processUrlParams(b,a));a=this.generateSessionID();c.Application.sprout.advineTrackingEndpoint&&(a=this.processUrlParams(c.Application.sprout.advineTrackingEndpoint,{sessID:a}),this.addServerEndpoint(a),this.redirectEndpoint=a);this.serverEndpoints.length||this.addServerEndpoint(this.processUrlParams("http://d2mevh7dl7io3n.cloudfront.net/t.gif"));c.Logger.log("Initializing AdVineTracking with endpoint(s): "+this.serverEndpoints.join(", "));this.getSession()},
generateSessionID:function(){return(new Date).getTime().toString(16)+Math.floor(1E6*Math.random()).toString(16)},processUrlParams:function(a,b){var d;d=a+("?v="+this.AVSR_VERSION);d+="&spid="+c.Application.sprout.ID;d+="&rl="+this.getReportingLabel();d+="&at="+this.getAdType();d+="&n="+this.getAdNetwork();if(b)for(key in b)d+="&"+encodeURIComponent(key)+"="+encodeURIComponent(b[key]);return d},addServerEndpoint:function(a){this.serverEndpoints.push(a)},getAdNetwork:function(){return c.Application.sprout.adNetwork},
getReportingLabel:function(){var a=c.Querystring.get();return c.isString(a.rl)&&0<a.rl.length?a.rl:c.isString(c.Application.sprout.reportingLabel)&&0<c.Application.sprout.reportingLabel.length?c.Application.sprout.reportingLabel:""},getAdType:function(){var a=c.Querystring.get();if(c.isString(a.at)&&0<a.at.length)return a.at;if(c.isString(c.Application.sprout.format))switch(c.Application.sprout.format){case "interstitial":return 0;case "expandable":case "collapsible":return 1;case "standard":return 2;
case "two-piece":return 3;default:return""}else return""},messageIn:function(a,b){switch(a){case "TRACKING_INIT":this.initialize();break;case "TRACK":this.processTracking(b);break;case "PROCESS_URL":return this.processURL(b);case o:this.parentCanTrack=b.parentCanTrack}},session:null,serverEndpoints:[],redirectEndpoint:null,pageNumber:NaN,pageElapsedStart:NaN,lastInteraction:null,firstInteraction:null,getSession:function(){null==this.session&&(this.session=Math.floor(4294967295*Math.random()).toString(16));
return this.session},sendPageElapsed:function(a,b){var c=(new Date).getTime(),e=this;e.serverEndpoints.forEach(function(f){e.getPixel(f,{srID:7,page:a,seconds:h.round((c-e.pageElapsedStart)/1E3,1)},b)});e.pageElapsedStart=c},processTracking:function(a){var b=this,d=!1,e=c.PageManager.getCurrentPageIndex()+1;if(a.hasOwnProperty("pageLabel"))isNaN(b.pageElapsedStart)?b.pageElapsedStart=(new Date).getTime():b.sendPageElapsed(b.pageNumber,!0),b.pageNumber=e,a.srID=6,a.page=b.pageNumber;else{if(a.node!==
g&&a.node.mediaType!==g){var f;a.mediaLabel=a.trackingLabel!==g&&null!=a.trackingLabel&&0<(f=h.trim(a.trackingLabel)).length?f:""!=a.node.properties.assetTitle.value?escape(a.node.properties.assetTitle.value):a.node.properties.source.value.substr(a.node.properties.source.value.lastIndexOf("/")+1)}switch(a.action){case "EXPAND":case "A_EXPAND":a.srID=2;break;case "COLLAPSE":a.srID=3;break;case "A_COLLAPSE":a.srID=4;b.sendPageElapsed(e,!0);break;case "AUTO_WATCH_VIDEO":case "AUTO_LISTEN_AUDIO":a.srID=
10;break;case "WATCH_VIDEO":case "LISTEN_AUDIO":a.srID=9;break;case "PAUSE_VIDEO":case "PAUSE_AUDIO":a.srID=14;break;case "END_VIDEO":case "END_AUDIO":a.srID=13;break;case "Q1_VIDEO":case "Q1_AUDIO":case "Q2_VIDEO":case "Q2_AUDIO":case "Q3_VIDEO":case "Q3_AUDIO":a.srID=12;a.mediaQuartile=a.action.charAt(1);break;case "MEDIA_ERROR":a.srID=16;break;default:a.srID===g&&a.action!==g&&(a.srID=99),a.srID===g&&c.Logger.log("No srID for "+a.action)}switch(a.srID){case 5:null==this.firstInteraction&&(this.firstInteraction=
!0);b.lastInteraction=a;setTimeout(function(){if(b.lastInteraction){b.serverEndpoints.forEach(function(a){b.getPixel(a,b.lastInteraction,false)});b.lastInteraction=null}},500);return;case 9:null==this.firstInteraction&&(this.firstInteraction=!0);case 2:case 3:case 14:case 8:case 99:d=!0}}!1===c.Application.sprout.advineInteractionTrackingEnabled&&1!=a.srID||(b.parentCanTrack&&(3===a.srID||4===a.srID)?this.serverEndpoints.forEach(function(e){c.Message.postMessageToParent("track",'"url": "'+b.getTrackingURL(e,
a,d)+'"')}):a.srID!==g&&this.serverEndpoints.forEach(function(c){b.getPixel(c,a,d)}),this.firstInteraction&&(this.firstInteraction=!1))},getPixel:function(a,b,c){a=this.getTrackingURL(a,b,c);0==a.indexOf("http")&&((new Image).src=a)},getTrackingURL:function(a,b,c){a=a+"&m="+b.srID;switch(b.srID){case 6:a+="&pg="+b.page;break;case 7:a+="&pg="+b.page;a+="&secs="+b.seconds;this.firstInteraction&&(a+=this.mapInteractionData(b));break;case 5:a+=this.mapInteractionData(b);break;case 9:this.firstInteraction&&
(a+=this.mapInteractionData(b));case 10:case 11:case 12:case 13:case 14:a+="&mid="+b.mediaLabel;b.mediaQuartile!==g&&(a+="&q="+b.mediaQuartile);break;case 16:a+="&mid="+b.mediaLabel;b.errorType!==g&&(a+="&errorType="+b.errorType);break;case 99:a+="&action="+escape(b.action);b.category!==g&&0<b.category.length&&(a+="&category="+escape(b.category));b.label!==g&&0<b.label.length&&(a+="&label="+escape(b.label));b.value!==g&&0<b.value.length&&(a+="&value="+b.value);break;case 8:a+="&cta="+b.action.toLowerCase(),
b.ctaID!==g&&(a+="&ctaid="+b.ctaID)}c&&this.lastInteraction&&(a+=this.mapInteractionData(this.lastInteraction),this.lastInteraction=null);return a+="&__t="+((new Date).getTime()+"_"+Math.floor(1E3*Math.random()))},mapInteractionData:function(a){var b="";if(c.isObject(a.event)){b="&it=";switch(a.event.type){case "click":case "touchend":b+="1";break;case "shake":b+="2";break;case "tilt":b+="3";break;default:b+="0"}b+="&as="+a.page+"."+("undefined"!==typeof a.event.x?""+a.event.x:"0")+"."+("undefined"!==
typeof a.event.y?""+a.event.y:"0")}else c.Logger.log("undefined interaction event");this.firstInteraction&&(b+="&fi=true");return b},getCTAID:function(a){return a.clickTag?a.clickTag:a.url.replace("//","/").split("/")[1]},processURL:function(a){var b,d=this;this.redirectEndpoint?(b=this.getTrackingURL(this.redirectEndpoint,{srID:8,ctaID:d.getCTAID(a),action:"exit"},!0),b+="&dest="+encodeURIComponent(a.url)):b=a.url;this.serverEndpoints.forEach(function(b){d.redirectEndpoint!==b&&d.getPixel(b,{srID:8,
ctaID:d.getCTAID(a),action:"exit"},true)});c.PageManager.navigateURL(b,a.target);return!0}});c.AdVineTracking.instance=null;c.AdVineTracking.getInstance=function(){c.AdVineTracking.instance||(c.AdVineTracking.instance=new c.AdVineTracking);return c.AdVineTracking.instance};c.AdVineTracking.getSession=function(){return c.AdVineTracking.getInstance().getSession()};c.AdVineTracking.getInstance();c.CookieUtil=c.Class.extend({construct:function(){c.Message.addListener("init",function(a){c.Cookie.init(a.cookie)});
this.initialized=!1;this.cookies={}},init:function(a){if(a&&""!=a)for(var a=a.split(";"),b=0;b<a.length;b++){var c=h.trim(a[b]).split("=");2==c.length&&(this.cookies[c[0]]=decodeURIComponent(c[1]))}},get:function(a){return(a=this.cookies[a])?a:null},set:function(a,b,d){d=d||{};null===b&&(b="",d.expires=-1);var e=d.path?"; path="+d.path:"",f=d.domain?"; domain="+d.domain:"",g=d.secure?"; secure":"",h="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString))"number"==typeof d.expires?(h=
new Date,h.setTime(h.getTime()+864E5*d.expires)):h=d.expires,h="; expires="+h.toUTCString();this.cookies[a]=b;b=[a,"=",encodeURIComponent(b),h,e,f,g].join("");c.Message.postMessageToParent("cookie",'"value": "'+b+'"')}});c.Cookie=new c.CookieUtil;c.ImageDisplay=c.BasicDisplay.extend({initializeDisplay:function(){this._super()},drawDisplay:function(){var a=this.html.get(0).firstChild,b=this.getWidth(),c=this.getHeight(),e=a.width,f=a.height,g=b/c,h=e/f,i=0,k=0,n=0,o=0;switch(this.getScalingMode()){case "center":g<
h?(n=b,o=f*(b/e),i=0,k=(c-o)/2):(o=c,n=e*(c/f),k=0,i=(b-n)/2);break;case "fill":g<h?(o=c,n=e*(c/f)):(n=b,o=f*(b/e));i=(b-n)/2;k=(c-o)/2;break;default:k=i=0,n=b,o=c}a.style.left=i+"px";a.style.top=k+"px";a.style.width=n+"px";a.style.height=o+"px";a.style.display="inline";setTimeout(function(){a.style.display="block"},0);this._super()},setScalingMode:function(a){this.scalingMode=a;this.invalidateDisplay()},getScalingMode:function(){return this.scalingMode}});c.Element=c.SproutDisplayNode.extend({construct:function(a,
b){this._super(a,b);this.nodeType="ELEMENT";this.properties={};this.prop={};this.prop.borderWidth=0;this.prop.minimumWidth=0;this.prop.minimumHeight=0;this.boundTokens={};this.boundProperties={};this.unalteredPropertyValues={};this.addProperty(c.Element.PROPERTY_TYPE.STRING,"name",b.name);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"x",b.properties.x);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"y",b.properties.y);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"width",b.properties.width);
this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"height",b.properties.height);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"minimumWidth",b.properties.minimumWidth);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"minimumHeight",b.properties.minimumHeight);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"borderWidth",b.properties.borderWidth);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"borderColor",b.properties.borderColor);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"borderStyle",b.properties.borderStyle);
this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"opacity",b.properties.opacity);this.addProperty(c.Element.PROPERTY_TYPE.BOOLEAN,"visibility",b.properties.visibility);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"rotation",b.properties.rotation);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"scale",b.properties.scale);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"fillType",b.properties.fillType);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"fillColor",b.properties.fillColor);this.addProperty(c.Element.PROPERTY_TYPE.STRING,
"fillColorTo",b.properties.fillColorTo);this.active=this.initialized=!1},initialize:function(a){this._super();for(var b in this.properties)this.initProperty(b,this.properties[b].value);(this.link.url||this.link.clickTag)&&this.registerTriggerHandler("mouseClick",this,this.handleClick);(a===g||!0===a)&&this.reportReady();this.initialized=!0},activate:function(){this.active=!0;this.display.setActive(!0)},deactivate:function(){this.active=!1;this.display.setActive(!1)},addProperty:function(a,b,c){this.properties[b]=
{type:a,name:b,value:c,pending:!1};this.prop[b]=c},removeProperty:function(a){delete this.properties[a];delete this.prop[a]},initProperty:function(a,b){this.initializeTokens(a,b)!=b&&this.setProperty(a,b)},getProperty:function(a){a=this.properties[a];return a!==g?a.value:null},setProperty:function(a,b,d){b=this.initializeTokens(a,b);switch(a){case "opacity":h.isNumeric(b)&&(b-=0,0>b?b=0:100<b&&(b=100),this._setProperty(a,b,d));break;case "width":h.isNumeric(b)&&(b-=0,b<this.minimumWidth&&(b=this.minimumWidth),
0>b&&(b=0),this._setProperty(a,b,d));break;case "height":h.isNumeric(b)&&(b-=0,b<this.minimumHeight&&(b=this.minimumHeight),0>b&&(b=0),this._setProperty(a,b,d));break;case "scale":case "borderWidth":h.isNumeric(b)&&(b-=0,0>b&&(b=0),this._setProperty(a,b,d));break;default:var e=this.properties[a];e!==g&&(e.type==c.Element.PROPERTY_TYPE.STRING?c.isString(b)&&this._setProperty(a,b,d):e.type==c.Element.PROPERTY_TYPE.NUMBER?(b=Number(b),c.isNumeric(b)&&this._setProperty(a,b,d)):e.type==c.Element.PROPERTY_TYPE.BOOLEAN?
("true"==b?b=!0:"false"==b&&(b=!1),c.isBoolean(b)&&this._setProperty(a,b,d)):e.type==c.Element.PROPERTY_TYPE.ARRAY&&c.isArray(b)&&this._setProperty(a,b,d))}},updateProperty:function(a,b){var c=this.properties[a];c!==g&&(c.value=b,this.prop[a]=b,this.dispatchPropertyChangeEvent(a))},_setProperty:function(a,b,c){var e=this.properties[a];e!==g&&(c={finalValue:b,transition:c},e.value=b,this.prop[a]=b,this.handlePropertyChanged(e,c))},handlePropertyChanged:function(a,b){var c=this.display,e=this.prop;
switch(a.name){case "x":c.setX(Math.ceil(e.x-e.borderWidth),b.transition);this.dispatchPropertyChangeEvent(a.name);break;case "y":c.setY(Math.ceil(e.y-e.borderWidth),b.transition);this.dispatchPropertyChangeEvent(a.name);break;case "width":c.setWidth(e.width,b.transition);this.dispatchPropertyChangeEvent(a.name);break;case "height":c.setHeight(e.height,b.transition);this.dispatchPropertyChangeEvent(a.name);break;case "minimumWidth":a.value>e.width&&this.setProperty("width",a.value);break;case "minimumHeight":a.value>
e.height&&this.setProperty("height",a.value);break;case "opacity":c.setOpacity(a.value/100,b.transition);break;case "visibility":c.setVisibility(a.value,b.transition);this.dispatchPropertyChangeEvent(a.name);break;case "rotation":c.setRotation(a.value,b.transition);this.dispatchPropertyChangeEvent(a.name);break;case "borderWidth":c.setX(Math.ceil(e.x-e.borderWidth),b.transition);c.setY(Math.ceil(e.y-e.borderWidth),b.transition);c.setBorderWidth(a.value,b.transition);break;case "borderColor":c.setBorderColor(a.value,
b.transition);break;case "borderStyle":c.setBorderStyle(a.value,b.transition);break;case "scale":c.setScale(a.value/100,b.transition);this.dispatchPropertyChangeEvent(a.name);break;case "fillType":c.setFillType(a.value,b.transition);break;case "fillColor":c.setFillColor(a.value.replace("0x","#"),b.transition);break;case "fillColorTo":c.setFillColorTo(a.value.replace("0x","#"),b.transition)}},initializeTokens:function(a,b){if(c.isString(b)&&c.Token.hasToken(b)){var d=c.Token.translateString(b),e,f;
for(e=0;e<d.tokens.length;++e)f=d.tokens[e],this.boundTokens[f.getName()]=a,this.boundProperties[a]=f.getName(),this.unalteredPropertyValues[a]=b,c.Token.bindToToken(f.getName(),this);b=d.translatedString}else this.boundProperties.hasOwnProperty(a)&&(f=this.boundProperties[a],delete this.boundProperties[a],delete this.boundTokens[f],delete this.unalteredPropertyValues[a]);return b},dispatchPropertyChangeEvent:function(a){for(var b=0;b<arguments.length;++b)c.Token.dispatchChangeEvent(this.prop.name+
"."+arguments[b],this.getProperty(arguments[b]))},handleTokenUpdate:function(a){var b=this.boundTokens[a];b===g?c.Token.unbindFromToken(a,this):(a=this.unalteredPropertyValues[b],this._setProperty(b,c.Token.translateString(a).translatedString))},handleClick:function(){var a=this.link.url,b=this.link.clickTag;"sp:"==a.substring(0,3)?c.PageManager.goToPage(a):(a||b)&&c.PageManager.goToURL(a,this.link.target,b,this)}});c.Element.PROPERTY_TYPE={STRING:"string",NUMBER:"number",BOOLEAN:"boolean",ARRAY:"array",
OBJECT:"object"};c.ImageElement=c.Element.extend({construct:function(a,b){var d=this;d._super(a,b);d.addProperty(c.Element.PROPERTY_TYPE.STRING,"scalingMode",b.properties.scalingMode);d.addProperty(c.Element.PROPERTY_TYPE.STRING,"source",b.properties.source);d.addProperty(c.Element.PROPERTY_TYPE.STRING,"loadPolicy",b.properties.loadPolicy);d.image=new Image;c.Browser.isTouchDevice()||(d.image.onmousedown=F);d.sourceSet=!1;d.image.onload=function(){d.display.invalidateDisplay();d.prop.loadPolicy==
"immediate"&&d.reportReady();d.fireTrigger("imageLoadCompleted")};d.image.onerror=function(){d.prop.loadPolicy=="immediate"&&d.reportReady();d.fireTrigger("imageLoadFailed")}},createDisplay:function(){this.display=new c.ImageDisplay(this.displayState)},initialize:function(){this._super(!1);"immediate"==this.prop.loadPolicy&&this.loadSource(this.prop.source);this.display.html.append(this.image);this.display.setScalingMode(this.prop.scalingMode);(""==this.prop.source||"pageShow"==this.prop.loadPolicy)&&
this.reportReady()},activate:function(){this._super();"pageShow"==this.prop.loadPolicy&&!this.sourceSet&&this.loadSource(this.prop.source)},setProperty:function(a,b,d){b=this.initializeTokens(a,b);switch(a){case "source":c.isString(b)&&(b=c.Tracker.getFilename(b),this._setProperty(a,b,d));break;default:this._super(a,b,d)}},loadSource:function(a){a&&this.image.src!=a&&(this.image.src=a,this.sourceSet=!0)},handlePropertyChanged:function(a,b){switch(a.name){case "source":this.sourceSet=!1;("immediate"==
this.prop.loadPolicy||this.initialized)&&this.loadSource(a.value);break;case "scalingMode":this.display.setScalingMode(a.value);break;default:this._super(a,b)}}});c.TextElement=c.Element.extend({construct:function(a,b){this._super(a,b);var d=k.createElement("i");d.innerHTML=b.properties.htmlText;this.addProperty(c.Element.PROPERTY_TYPE.STRING,"text",d.innerText);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"htmlText",b.properties.htmlText);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"fontColor",
b.properties.color)},createDisplay:function(){this.display=new c.BasicDisplay(this.displayState)},handlePropertyChanged:function(a,b){switch(a.name){case "htmlText":this.setHTMLText(a.value);break;case "text":this.initialized&&this.setPlainText(a.value);break;case "fontColor":if(this.initialized){var c=a.value.replace("0x","#");this.display.html.css("color",c).find("span").css("color",c)}break;default:this._super(a,b)}},findTextNode:function(a){var b,c;for(b=0;b<a.childNodes.length;b++){if(3==a.childNodes[b].nodeType)return a;
if(c=this.findTextNode(a.childNodes[b]))return c}return null},setPlainText:function(a){var b=this.display.html,c=b.get(0).childNodes,e,f,g;for(f=0;f<c.length&&!(e=this.findTextNode(c[f]));f++);if(e){e.innerHTML=a;a=e.parentNode;do{c=e.parentNode;for(e=a.removeChild(e);a.firstChild;)a.removeChild(a.firstChild);g&&e.appendChild(g);a=a.parentNode;g=e;e=c}while(c.id!=this.ID);g&&b.append(g)}},setHTMLText:function(a){this.display.html.get(0).innerHTML=a}});c.DataSourceElement=c.Element.extend({tokens:new c.HashList,
construct:function(a,b){this._super(a,b);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"source",b.properties.source);this.addProperty(c.Element.PROPERTY_TYPE.NUMBER,"refreshInterval",b.properties.refreshInterval);this.addProperty(c.Element.PROPERTY_TYPE.OBJECT,"dataSource",null);this.addProperty(c.Element.PROPERTY_TYPE.STRING,"dataSourceText",null)},createDisplay:function(){this.display=new c.BasicDisplay(this.displayState)},activate:function(){this._super();this.loadDataSource(this.prop.source);
0<this.prop.refreshInterval&&this.createTimer(this.prop.refreshInterval)},createTimer:function(a){var b=this;h.everyTime(6E4*a,this.ID,function(){b.loadDataSource(b.prop.source)},0)},clearTimer:function(){h.stopTime(this.ID)},loadDataSource:function(a){var b=this,a=h.trim(a);this.fireTrigger("dataLoading");c.BaseApi.post(function(a){b.dataSourceLoaded(a.data);b.fireTrigger("dataLoaded")},function(){b.fireTrigger("errorEncountered")},new c.BaseCall(a,"GET","","application/json"))},dataSourceLoaded:function(a){var b=
this;this.updateProperty("dataSource",a.response);this.updateProperty("dataSourceText",a.responseText);this.tokens.values().forEach(function(a){var e=a.tokenString;1==a.nameParts.length&&!c.EndsWith(e,".text")?e+=".text":c.EndsWith(e,"|length")&&(e=e.substring(0,e.length-7));c.Token.dispatchChangeEvent(e.toLowerCase(),b.evalTokenString(e))})},evalTokenString:function(a){var b=null;if(!c.isString(a)||!c.isString(this.name)||!c.isObject(this.prop.dataSource))return null;if(a===this.name+".text")b=this.prop.dataSourceText;
else if(c.EndsWith(a,"|length"))try{a=a.substring(0,a.length-7),a="this.prop.dataSource"+a.substring(this.name.length,a.length),b=eval(a+".length")}catch(d){}else try{a="this.prop.dataSource"+a.substring(this.name.length,a.length),b=eval(a)}catch(e){}return b},setProperty:function(a,b,d){b=this.initializeTokens(a,b);switch(a){case "source":b=c.Tracker.getFilename(b);this._setProperty(a,b,d);break;case "refreshInterval":h.isNumeric(b)&&(b=parseInt(b),0>b?b=0:60<b&&(b=60),this._setProperty(a,b,d));
break;default:this._super(a,b,d)}},handlePropertyChanged:function(a,b){switch(a.name){case "source":this.loadDataSource(this.prop.source);break;case "refreshInterval":this.clearTimer();this.createTimer(60*a.value);break;default:this._super(a,b)}},getProperty:function(a){var b=null;switch(a){case "source":b=this.prop.source;break;case "refreshInterval":b=this.prop.refreshInterval;break;case "text":b=this.prop.dataSourceText;break;default:b=this._super(a)}return b}});c.BaseCall=c.EventDispatcher.extend({construct:function(a,
b,c,e){this._super();this.request=this.delegate=null;this.endpoint=a;this.method=b;this.message=c;this.contentType=e},call:function(){var a=this,b=a.request;(b=this.createCORSRequest(this.method,this.endpoint))?(b.onload=function(){var d;d={error:!1,code:b.status,responseText:b.responseText};d.response="application/xml"==a.contentType?b.responseXML:JSON.parse(b.responseText);d=new c.Event("callSuccessEvent",d);a.dispatchEvent(d)},b.onerror=function(){var d;d={error:!0,code:b.status};d.response=0==
b.status?"Service could not be contacted":b.statusText;d=new c.Event("callErrorEvent",d);a.dispatchEvent(d)},b.send(this.message)):c.Logger.log("CORS not supported")},createCORSRequest:function(a,b){var c=new XMLHttpRequest;"withCredentials"in c?c.open(a,b,!0):"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(a,b)):c=null;return c},hangUp:function(){}});c.CallManager={calls:new c.HashMap,makeCall:function(a){c.CallManager.addCall(a);a.call()},addCall:function(a){c.CallManager.calls.containsKey(a.objectId)||
(a.addEventListener("callErrorEvent",c.CallManager.handleCallError,c.CallManager),a.addEventListener("callSuccessEvent",c.CallManager.handleCallSuccess,c.CallManager),c.CallManager.calls.put(a.objectId,a))},removeCall:function(a){c.CallManager.calls.containsKey(a.objectId)&&(a.removeEventListener("callErrorEvent",c.CallManager.handleCallError,c.CallManager),a.removeEventListener("callSuccessEvent",c.CallManager.handleCallSuccess,c.CallManager),c.CallManager.calls.remove(a.objectId))},handleCallError:function(a){c.CallManager.removeCall(a.target)},
handleCallSuccess:function(a){c.CallManager.removeCall(a.target)}};c.ApiDelegate=c.Class.extend({construct:function(a,b,c){this.apiResponseHandler=a;this.apiErrorHandler=b;this.call=c;c.addEventListener("callSuccessEvent",this.handleCallSuccess,this);c.addEventListener("callErrorEvent",this.handleCallError,this)},handleCallError:function(a){this.apiErrorHandler(new c.ApiError(a.data))},handleCallSuccess:function(a){this.apiResponseHandler(new c.ApiResponse(a.data))}});c.ApiError=c.Class.extend({construct:function(a){this.data=
a}});c.ApiResponse=c.Class.extend({construct:function(a){this.data=a}});c.BaseApi={post:function(a,b,d){d.delegate=new c.ApiDelegate(a,b,d);c.CallManager.makeCall(d)}};var C="",D="",u=0,v=0,y="",A=!1,B=!0;c.Action=c.SproutNode.extend({construct:function(a,b){this._super(a,b);this.nodeType="ACTION";this.haltsExecution=!1;this.index=0},initialize:function(){this.triggerNode=this.ownerSprout.findNodeByID(this.triggerNodeID);if(C!=this.triggerNodeID||D!=this.trigger)C=this.triggerNodeID,D=this.trigger,
v=0,y="",A=!1,B=!0,u=0;this.index=u;this.isConditionAction()&&(c.ConditionManager.registerConditionAction(this),v=this.parameters.actionCount,B=this.parameters.playActions,this.parameters.stopActions&&(""==y&&(y=this.ID),A=!0));A&&y!=this.ID&&this.triggerNode.registerTriggerHandler("stopActions",this,this.handleStopAction);this.isConditionAction()||0==v||!1==B?("MASTERPAGE"!=this.triggerNode.nodeType||c.HTML_EVENT_TRIGGER_MAP[this.trigger]===g)&&c.ActionManager.registerAction(this):0<v&&(c.ConditionManager.registerExecutableAction(this),
v--);u++},postInitialize:function(){if(this.triggerNode!=g&&"MASTERPAGE"==this.triggerNode.nodeType&&c.HTML_EVENT_TRIGGER_MAP[this.trigger]!==g){var a=this;this.ownerSprout.getPages().values().forEach(function(b,d){if("BACKGROUND"==a.triggerNode.masterType&&b.hasMasterBackground()||"FOREGROUND"==a.triggerNode.masterType&&b.hasMasterForeground()){var e=new c.Action(a.ownerSprout,a);e.triggerNodeID=b.ID;e.ID+="_copy_"+d;b.appendChild(e);c.ActionManager.registerAction(e)}})}},handleStopAction:function(){u<
this.index&&(this.haltsExecution=!0)},canStopAction:function(){return this.haltsExecution?(this.haltsExecution=!1,!0):!1},interactiveTriggers:{mouseClick:!0,mouseDown:!0,mouseUp:!0},isFromInteraction:function(){return this.trigger in this.interactiveTriggers},isConditionAction:function(){return!1},execute:function(){}});var I="elementProperty,externalvar,string,variable,month,year,dayOfWeek,dayOfMonth,time,hour,language,os,views,visits,users,countryCode,countryName,regionCode,regionName,city,latitude,longitude,postalCode,netSpeed,currentUserViews,browserURL,elapsedTime,formattedDate,preference,pageReferrer,javaScriptAccess,unixtime,isotime,formElement,screenWidth,screenHeight,screenOrientation,accelerometerAvailable,control,sensitivity".split(","),
J="contains,excludes,startsWith,endsWith,eq,noteq,gt,lt,gteq,lteq,selected,notselected,regex,notregex,isvalid,isnotvalid".split(",");c.ConditionAction=c.Action.extend({construct:function(a,b){this._super(a,b);this.allRequired=b.parameters.allRequired;this.actionCount=b.parameters.actionCount;this.stopActions=b.parameters.stopActions;this.playActions=b.parameters.playActions;this.conditions=[];this.executableActions=[]},execute:function(a){this.conditions=c.ConditionManager.getConditions(this);this.executableActions=
c.ConditionManager.getExecutableActions(this);null==this.conditions||null==this.executableActions||this.handleAction(a)},eval:function(){var a=0,b,c;for(c=0;c<this.conditions.length;++c)if(b=this.conditions[c],b=b.eval()){if(!this.allRequired)return!0;++a}else if(this.allRequired)return!1;return a==this.conditions.length},handleAction:function(a){this.eval()&&(this.playActions&&this.executableActions.forEach(function(b){b.execute(a)}),u=this.index,this.stopActions&&this.triggerNode.fireTrigger("stopActions"))},
isConditionAction:function(){return!0}});c.ActionManager=c.EventDispatcher.extend({construct:function(){this._super();this.triggerMap=new c.HashMap;this.triggerActionLists=new c.HashMap},registerAction:function(a){var b=c.Application.sprout.findNodeByID(a.triggerNodeID),d=b.ID+"_"+a.trigger,e=this.triggerActionLists.get(d);null==this.triggerMap.get(d)&&(b.registerTriggerHandler(a.trigger,this,this.handleTrigger),this.triggerMap.put(d,!0));null==e&&(e=[],this.triggerActionLists.put(d,e));e.push(a)},
handleTrigger:function(a){this.triggerActionLists.get(a.target.ID+"_"+a.name).forEach(function(b){if(!b.canStopAction()){var d={},e,f;for(e in b.parameters)d[e]=b.parameters[e];for(f in b.parameters)c.Token.hasToken(b.parameters[f])&&(b.parameters[f]=c.Token.translateString(b.parameters[f]).translatedString);b.execute(a);b.parameters=d}})}});c.ActionManager.instance=null;c.ActionManager.getInstance=function(){c.ActionManager.instance||(c.ActionManager.instance=new c.ActionManager);return c.ActionManager.instance};
c.ActionManager.registerAction=function(a){c.ActionManager.getInstance().registerAction(a)};c.ConditionManager=c.EventDispatcher.extend({construct:function(){this._super();this.conditionLists=new c.HashMap;this.executableActionLists=new c.HashMap;this.conditionAction=null},registerCondition:function(a){var b=a.parentNode.ID,c=this.conditionLists.get(b);null==c&&(c=[],this.conditionLists.put(b,c));c.push(a)},registerExecutableAction:function(a){var b=this.conditionAction.ID,c=this.executableActionLists.get(b);
null==c&&(c=[],this.executableActionLists.put(b,c));c.push(a)},registerConditionAction:function(a){this.conditionAction=a},getConditions:function(a){return this.conditionLists.get(a.ID)},getExecutableActions:function(a){return this.executableActionLists.get(a.ID)}});c.ConditionManager.instance=null;c.ConditionManager.getInstance=function(){c.ConditionManager.instance||(c.ConditionManager.instance=new c.ConditionManager);return c.ConditionManager.instance};c.ConditionManager.registerCondition=function(a){c.ConditionManager.getInstance().registerCondition(a)};
c.ConditionManager.registerExecutableAction=function(a){c.ConditionManager.getInstance().registerExecutableAction(a)};c.ConditionManager.registerConditionAction=function(a){c.ConditionManager.getInstance().registerConditionAction(a)};c.ConditionManager.getConditions=function(a){return c.ConditionManager.getInstance().getConditions(a)};c.ConditionManager.getExecutableActions=function(a){return c.ConditionManager.getInstance().getExecutableActions(a)};c.Condition=c.SproutNode.extend({construct:function(a,
b){this._super(a,b);this.nodeType="CONDITION";this.variable=b.properties.variable;this.variableType=b.properties.type;this.bucketID=b.properties.bucket;this.operator=b.properties.operator;this.value=b.properties.value},initialize:function(){c.ConditionManager.registerCondition(this)},eval:function(){var a=this.parentNode.parentNode,b=new Date,d=[],e=this.getVariableType(this.variableType),d=this.getOperator(this.operator);switch(e){case 0:b=this.variable.indexOf(".");d=this.variable.slice(b+1);e=
null;if(0==b)e=""+a.getProperty(d);else if(0<b){b=this.variable.substr(0,b);a=a.ownerSprout.findElementsByName(b);if(0==a.length)return!1;e=""+a[0].getProperty(d)}return this.evalStrings(e,this.value);case 28:return""==this.bucketID&&(this.bucketID=c.Application.sprout.ID),this.evalStrings(c.Cookie.get(this.bucketID+"_"+this.variable),this.value);case 3:return this.evalStrings(c.Variable.get(this.variable),this.value);case 2:return this.evalStrings(this.variable,this.value);case 1:return this.evalStrings(c.Querystring.get(this.variable),
this.value);case 8:return a=new Date,a.setSeconds(0,0),d=this.value.split(":"),b.setHours(Number(d[0]),Number(d[1]),0,0),this.evalNumbers(a.getTime(),b.getTime());case 27:return a=new Date,a.setHours(0,0,0,0),d=this.value.split("/"),3==d.length&&(b.setFullYear(Number(d[2]),Number(d[0])-1,Number(d[1])),b.setHours(0,0,0,0)),this.evalNumbers(a.getTime(),b.getTime());case 5:return this.evalNumbers(b.getFullYear(),Number(this.value));case 4:return this.evalNumbers(b.getMonth()+1,Number(this.value));case 7:return this.evalNumbers(b.getDate(),
Number(this.value));case 9:return this.evalNumbers(b.getHours(),Number(this.value));case 6:return this.evalNumbers(0==b.getDay()?7:b.getDay(),Number(this.value));case 11:return this.evalStrings(c.EnvVars.getPropertyValue(11).value,this.value);case 10:return a=c.EnvVars.getPropertyValue(10).value,a="en-us"==a.toLowerCase()?"en":a,this.evalStrings(a,this.value);case 25:return this.evalStrings(c.EnvVars.getPropertyValue(25).value,this.value);case 33:var a=a.ownerSprout.findElementsByName(this.variable)[0].display.html.get(0),
b=a.value,e="",f=!1,g="";if(10==d||11==d)return 11==d?!a.checked:a.checked;if(12==d||13==d)return 13==d&&(f=!0),this.evalRegex(b,this.value,f,g);if(14==d||15==d){15==d&&(f=!0);if("email"==this.value)e="^[a-z0-9._%+-]+@(?:[a-z0-9-]+\\.)+[a-z]{2,6}$",g="i";else if("phone"==this.value){if(10>b.replace(/[^0-9]/g,"").length)return f?!0:!1;e="^[0-9\\.\\-\\+\\)\\( ]+$"}else"zipcode"==this.value&&(e="^\\d{5}([- ]\\d{4})?$");return this.evalRegex(b,e,f,g)}return this.evalStrings(b,this.value);case 34:return this.evalNumbers(c.EnvVars.getPropertyValue(34).value,
Number(this.value));case 35:return this.evalNumbers(c.EnvVars.getPropertyValue(35).value,Number(this.value));case 36:return this.evalStrings(c.EnvVars.getPropertyValue(36).value,this.value);case 37:return this.evalStrings(c.EnvVars.getPropertyValue(37).value,this.value);default:return!1}},evalStrings:function(a,b){c.Token.hasToken(a)&&(a=c.Token.translateString(a).translatedString);c.Token.hasToken(b)&&(b=c.Token.translateString(b).translatedString);var a=h.trim(a),b=h.trim(b),d=this.getOperator(this.operator);
switch(d){case 4:return a==b;case 5:return a!=b;case 0:return-1<a.indexOf(b);case 1:return-1==a.indexOf(b);case 2:return 0==a.indexOf(b);case 3:return c.EndsWith(a,b);case 6:case 8:case 7:case 9:var e=Number(a),f=Number(b);if(isNaN(e)||isNaN(f))break;switch(d){case 6:return e>f;case 8:return e>=f;case 7:return e<f;case 9:return e<=f}}return!1},evalNumbers:function(a,b){switch(this.getOperator(this.operator)){case 4:return a==b;case 5:return a!=b;case 6:return a>b;case 8:return a>=b;case 7:return a<
b;case 9:return a<=b}return!1},evalRegex:function(a,b,c,e){a=RegExp(b,e).test(a);return c?!a:a},getVariableType:function(a){return I.indexOf(a)},getOperator:function(a){return J.indexOf(a)}});c.GoToPageAction=c.Action.extend({construct:function(a,b){this._super(a,b)},execute:function(){""!=this.parameters.targetPage&&c.PageManager.goToPage(this.parameters.targetPage)}});c.start()})(document,window);</script><script type="text/javascript">var cufonLibRequested = false;var cufonLibLoaded = false;var cufonToLoad = [];var cufonCount = 0;function onCufonFontLoad(e) {  var src = e.target.getAttribute('src');  var fontName = src.substring(src.lastIndexOf('/') + 1, src.lastIndexOf('.js'));  Cufon.DOM.ready(function() {Cufon.replace('.font'+fontName, { fontFamily: fontName });});}function onCufonLibLoad(e) {  cufonLibLoaded = true;  for (var i = 0; i < cufonToLoad.length; i++) {    cufonLoadFont(cufonToLoad[i]);  }}function cufonLoadFont(src) {  if (!cufonLibLoaded) {    cufonToLoad.push(src);  }  else {    var script = document.createElement("script");    script.setAttribute("type", "text/javascript");    script.setAttribute("src", src);    script.onload = onCufonFontLoad;    document.getElementsByTagName("head").item(0).appendChild(script);  }}function sproutGetFilename(url) {if (typeof Enabler != 'undefined' && typeof Enabler.getFilename === 'function') {return Enabler.getFilename(url);}return url;}function sproutLoadFont(paramFontName, paramFontFamily){var downloadTemplate='@font-face{font-family:"_FONTFAMILY_";src:url("_FONTURL_")format("_FONTFORMAT_");}';var ieTemplate='@font-face{font-family:"_FONTFAMILY_";src:url("_FONTURL_");}';var localTemplate='@font-face{font-family:"_FONTFAMILY_";src:local("_FONTLOCAL_")}';var fontBase = '';var fontFormat = 'truetype';var fontExt = '.ttf';var fontLocal = '';var text=downloadTemplate;var matched = window.location.search.match(/\bfontFormat=(\w+)/);var fontFormatOverride = matched ? matched[1] : '';if (navigator.userAgent.match(/(iphone|ipad|ipod|android (1\.|2\.0|2\.1))/i) || fontFormatOverride.search(/^(svg|cufon)$/) != -1) {    if (navigator.userAgent.match(/(iphone|ipad|ipod)/i)         && paramFontFamily.match(/^(Arial|Georgia|Helvetica|Times|Verdana|TrebuchetMS|MarkerFelt)$/)) {	   text=localTemplate;      switch (paramFontFamily) {        case 'TrebuchetMS': fontLocal = 'Trebuchet MS'; break;        case 'MarkerFelt': fontLocal = 'Marker Felt'; break;        default: fontLocal = paramFontFamily; break;      }    }    else if (navigator.userAgent.match(/(iPhone OS (1_|2_|3_0)|android)/) || fontFormatOverride == 'cufon') {       if (typeof Cufon != 'undefined') {         cufonLibRequested = true;         cufonLibLoaded = true;       }       if (!cufonLibRequested) {         var script = document.createElement("script");         script.setAttribute("type", "text/javascript");         script.setAttribute("src", fontBase + "cufon-yui.js");         script.onload = onCufonLibLoad;         document.getElementsByTagName("head").item(0).appendChild(script);         cufonLibRequested = true;       }       cufonLoadFont(sproutGetFilename(fontBase + paramFontName + ".js"));       return;    }    else {      fontFormat = 'svg';      fontExt = '.svg#' + paramFontName;    }}text = text.replace(/_FONTFAMILY_/, paramFontName);text = text.replace(/_FONTFORMAT_/, fontFormat);text = text.replace(/_FONTLOCAL_/, fontLocal);text = text.replace(/_FONTURL_/, sproutGetFilename(fontBase + paramFontName + fontExt));var style = document.createElement("style");style.setAttribute("type", "text/css");style.appendChild(document.createTextNode(text));document.getElementsByTagName("head").item(0).appendChild(style);}</script><script type="text/javascript">sproutLoadFont("Tahoma", "Tahoma");</script><script type="text/javascript">sproutLoadFont("Impact", "Impact");</script>
<style id="sproutCoreStyles">*{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);}.sproutPage{position:absolute;left:0;top:0;width:100%;height:100%;visibility:hidden}.sproutElement{position:absolute;-webkit-font-smoothing:antialiased}a:link,a:visited,a:hover,a:active{color:inherit;text-decoration:inherit}.unselectable{user-select:none;-webkit-user-select:none;cursor:default!important;}.unselectableLink{user-select:none;-webkit-user-select:none;}.sproutContainer canvas, .sproutContainer img{-webkit-touch-callout:none;user-select:none;-webkit-user-select:none;}.sproutContainer a{-webkit-touch-callout:none;}.sproutImageElement{overflow:hidden;}.sproutImageElement img{position:absolute;}.sproutTextElement{word-wrap:break-word;}.sproutTextElement span{white-space:pre-wrap;}.sproutTextElement ul{margin:0;}.sproutTextElement p{margin:0 0 0 3px;}.sproutTextElement li{margin-left:20px;}</style>
<style id="sproutDynamicStyles">#Sprout_bQC2WoNKNgPoiueC{height:480px;width:320px;}#Page2{background:#ffffff;}#Element_93632eb{cursor:auto;height:399px;visibility:hidden;background:transparent;width:132px;opacity:1.0;left:3px;border:0px #000000 solid;top:0px;}#Page_64d0326d{background:transparent;}#Text_dfdbe551{overflow-y:hidden;cursor:auto;height:72px;visibility:hidden;background:transparent;width:275px;opacity:1.0;left:43px;border:0px #000000 solid;top:226px;}#Element_c670e9e7{cursor:auto;height:85px;visibility:hidden;background:transparent;width:200px;opacity:1.0;left:-215px;border:0px #000000 NONE;top:123px;}#Page1{background:transparent;}#Text_6e075e9d{overflow-y:hidden;cursor:auto;height:281px;visibility:hidden;background:transparent;width:180px;opacity:1.0;left:142px;border:0px #000000 solid;top:87px;}#Page_2f7d23b9{background:transparent;}#Text_e0839715{overflow-y:hidden;cursor:auto;height:266px;visibility:hidden;background:transparent;width:180px;opacity:1.0;left:142px;border:0px #000000 solid;top:87px;}#Page3{background:transparent;}#Text_46da6c13{overflow-y:hidden;cursor:pointer;height:27px;visibility:hidden;background:transparent;width:286px;opacity:1.0;left:29px;border:0px #000000 solid;top:408px;}#Text_8a0cfe0b{overflow-y:hidden;cursor:pointer;height:31px;visibility:hidden;background:transparent;width:201px;opacity:1.0;left:29px;border:0px #000000 solid;top:443px;}</style>
</head>
<body id="applicationContainer" style="margin:0;padding:0">
<div class="sproutContainer" id="Sprout_bQC2WoNKNgPoiueC" style="position:absolute;top:0px;left:0px;overflow:hidden">
<div class="sproutPage" id="Page2"></div>
<div class="sproutImageElement sproutElement" id="Element_93632eb"></div>
<div class="sproutTextElement sproutElement" id="Text_dfdbe551">
<div>
<p class="first" style="text-align:LEFT;line-height:1.209;margin-top:0px">
<span class="fontTahoma" style="font-family:'Tahoma';font-size:56px;color:#000000;letter-spacing:0px">Loading...</span>
</p>
</div>
</div>
<div class="sproutTextElement sproutElement" id="Text_6e075e9d">
<div>
<p class="first" style="text-align:LEFT;line-height:1.219;margin-top:0px">
<span class="fontImpact" style="font-family:'Impact';font-size:51px;color:#000000;letter-spacing:0px">It's a floor wax!</span>
</p>
<p style="text-align:LEFT;margin-top:0px">
<span class="fontImpact" style="font-family:'Impact';font-size:31px;color:#000000;letter-spacing:0px">And a dessert topping.</span>
</p>
</div>
</div>
<div class="sproutTextElement sproutElement" id="Text_e0839715">
<div>
<p class="first" style="text-align:LEFT;line-height:1.219;margin-top:0px">
<span class="fontImpact" style="font-family:'Impact';font-size:51px;color:#000000;letter-spacing:0px">It's a dessert topping!</span>
</p>
<p style="text-align:LEFT;margin-top:0px">
<span class="fontImpact" style="font-family:'Impact';font-size:31px;color:#000000;letter-spacing:0px">And a floor wax.</span>
</p>
</div>
</div>
<div class="sproutTextElement sproutElement unselectableLink" id="Text_46da6c13">
<div>
<p class="first" style="text-align:LEFT;line-height:1.218;margin-top:0px">
<span style="font-family:'Impact';font-size:19px;color:#000000;letter-spacing:0px"><U class="fontImpact" style="font-family:'Impact';">Take the floor-waxing challenge!</U></span>
</p>
</div>
</div>
<div class="sproutTextElement sproutElement unselectableLink" id="Text_8a0cfe0b">
<div>
<p class="first" style="text-align:LEFT;line-height:1.218;margin-top:0px">
<span style="font-family:'Impact';font-size:19px;color:#000000;letter-spacing:0px"><U class="fontImpact" style="font-family:'Impact';">Find dessert recipes!</U></span>
</p>
</div>
</div>
</div>
</body>
</html>
